# 百问 gcc/llvm 


#### 如何把一个没有任何引用的动态库链接到二进制文件? 

**如果代码没有用到符号**，可能就会被编译器优化掉，把动态库移除出去。

这时候加入 `-Wl,--no-as-needed` 保留 `.so` 文件，还有 `--whole-archive` ???

然后用 `ldd` 可以列出所有用到的动态库 `.so`


