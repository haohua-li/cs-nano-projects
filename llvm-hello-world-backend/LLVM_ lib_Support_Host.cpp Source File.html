<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0046)https://llvm.org/doxygen/Host_8cpp_source.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta name="generator" content="Doxygen 1.8.17">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>LLVM: lib/Support/Host.cpp Source File</title>
<link href="./LLVM_ lib_Support_Host.cpp Source File_files/tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="./LLVM_ lib_Support_Host.cpp Source File_files/jquery.js"></script>
<script type="text/javascript" src="./LLVM_ lib_Support_Host.cpp Source File_files/dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="./LLVM_ lib_Support_Host.cpp Source File_files/MathJax.js"></script>
<link href="./LLVM_ lib_Support_Host.cpp Source File_files/doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &nbsp;<span id="projectnumber">15.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="./LLVM_ lib_Support_Host.cpp Source File_files/menudata.js"></script>
<script type="text/javascript" src="./LLVM_ lib_Support_Host.cpp Source File_files/menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"><ul class="sm sm-dox" id="main-menu" data-smartmenus-id="16462096007650388"><li><a href="https://llvm.org/doxygen/index.html">Main Page</a></li><li><a href="https://llvm.org/doxygen/pages.html">Related Pages</a></li><li><a href="https://llvm.org/doxygen/modules.html">Modules</a></li><li><a href="https://llvm.org/doxygen/namespaces.html" class="has-submenu" id="sm-16462096007650388-1" aria-haspopup="true" aria-controls="sm-16462096007650388-2" aria-expanded="false">Namespaces<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-2" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-1" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespaces.html">Namespace List</a></li><li><a href="https://llvm.org/doxygen/namespacemembers.html" class="has-submenu" id="sm-16462096007650388-3" aria-haspopup="true" aria-controls="sm-16462096007650388-4" aria-expanded="false">Namespace Members<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-4" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-3" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespacemembers.html" class="has-submenu" id="sm-16462096007650388-5" aria-haspopup="true" aria-controls="sm-16462096007650388-6" aria-expanded="false">All<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-6" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-5" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespacemembers.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/namespacemembers_func.html" class="has-submenu" id="sm-16462096007650388-7" aria-haspopup="true" aria-controls="sm-16462096007650388-8" aria-expanded="false">Functions<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-8" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-7" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespacemembers_func.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_func_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars.html" class="has-submenu" id="sm-16462096007650388-9" aria-haspopup="true" aria-controls="sm-16462096007650388-10" aria-expanded="false">Variables<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-10" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-9" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespacemembers_vars.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_vars_x.html#index_x">x</a></li></ul></li><li><a href="https://llvm.org/doxygen/namespacemembers_type.html" class="has-submenu" id="sm-16462096007650388-11" aria-haspopup="true" aria-controls="sm-16462096007650388-12" aria-expanded="false">Typedefs<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-12" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-11" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespacemembers_type.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_type_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum.html" class="has-submenu" id="sm-16462096007650388-13" aria-haspopup="true" aria-controls="sm-16462096007650388-14" aria-expanded="false">Enumerations<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-14" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-13" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespacemembers_enum.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_enum_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval.html" class="has-submenu" id="sm-16462096007650388-15" aria-haspopup="true" aria-controls="sm-16462096007650388-16" aria-expanded="false">Enumerator<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-16" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-15" aria-expanded="false"><li><a href="https://llvm.org/doxygen/namespacemembers_eval.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/namespacemembers_eval_z.html#index_z">z</a></li></ul></li></ul></li></ul></li><li><a href="https://llvm.org/doxygen/annotated.html" class="has-submenu" id="sm-16462096007650388-17" aria-haspopup="true" aria-controls="sm-16462096007650388-18" aria-expanded="false">Classes<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-18" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-17" aria-expanded="false"><li><a href="https://llvm.org/doxygen/annotated.html">Class List</a></li><li><a href="https://llvm.org/doxygen/classes.html">Class Index</a></li><li><a href="https://llvm.org/doxygen/inherits.html">Class Hierarchy</a></li><li><a href="https://llvm.org/doxygen/functions.html" class="has-submenu" id="sm-16462096007650388-19" aria-haspopup="true" aria-controls="sm-16462096007650388-20" aria-expanded="false">Class Members<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-20" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-19" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions.html" class="has-submenu" id="sm-16462096007650388-21" aria-haspopup="true" aria-controls="sm-16462096007650388-22" aria-expanded="false">All<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-22" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-21" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions.html#index_:">:</a></li><li><a href="https://llvm.org/doxygen/functions_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/functions_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/functions_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/functions_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/functions_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/functions_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/functions_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/functions_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/functions_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/functions_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/functions_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/functions_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/functions_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/functions_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/functions_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/functions_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/functions_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/functions_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/functions_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/functions_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/functions_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/functions_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/functions_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/functions_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/functions_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/functions_z.html#index_z">z</a></li><li><a href="https://llvm.org/doxygen/functions_~.html#index__7E">~</a></li></ul></li><li><a href="https://llvm.org/doxygen/functions_func.html" class="has-submenu" id="sm-16462096007650388-23" aria-haspopup="true" aria-controls="sm-16462096007650388-24" aria-expanded="false">Functions<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-24" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-23" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions_func.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/functions_func_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/functions_func_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/functions_func_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/functions_func_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/functions_func_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/functions_func_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/functions_func_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/functions_func_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/functions_func_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/functions_func_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/functions_func_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/functions_func_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/functions_func_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/functions_func_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/functions_func_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/functions_func_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/functions_func_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/functions_func_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/functions_func_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/functions_func_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/functions_func_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/functions_func_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/functions_func_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/functions_func_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/functions_func_z.html#index_z">z</a></li><li><a href="https://llvm.org/doxygen/functions_func_~.html#index__7E">~</a></li></ul></li><li><a href="https://llvm.org/doxygen/functions_vars.html" class="has-submenu" id="sm-16462096007650388-25" aria-haspopup="true" aria-controls="sm-16462096007650388-26" aria-expanded="false">Variables<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-26" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-25" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions_vars.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/functions_vars_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/functions_vars_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/functions_vars_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/functions_vars_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/functions_vars_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/functions_vars_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/functions_vars_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/functions_vars_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/functions_vars_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/functions_vars_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/functions_vars_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/functions_vars_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/functions_vars_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/functions_vars_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/functions_vars_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/functions_vars_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/functions_vars_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/functions_vars_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/functions_vars_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/functions_vars_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/functions_vars_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/functions_vars_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/functions_vars_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/functions_vars_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/functions_vars_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/functions_type.html" class="has-submenu" id="sm-16462096007650388-27" aria-haspopup="true" aria-controls="sm-16462096007650388-28" aria-expanded="false">Typedefs<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-28" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-27" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions_type.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/functions_type_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/functions_type_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/functions_type_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/functions_type_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/functions_type_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/functions_type_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/functions_type_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/functions_type_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/functions_type_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/functions_type_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/functions_type_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/functions_type_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/functions_type_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/functions_type_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/functions_type_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/functions_type_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/functions_type_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/functions_type_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/functions_type_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/functions_type_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/functions_type_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/functions_type_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/functions_type_y.html#index_y">y</a></li></ul></li><li><a href="https://llvm.org/doxygen/functions_enum.html" class="has-submenu" id="sm-16462096007650388-29" aria-haspopup="true" aria-controls="sm-16462096007650388-30" aria-expanded="false">Enumerations<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-30" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-29" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions_enum.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/functions_enum_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/functions_enum_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/functions_enum_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/functions_enum_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/functions_enum_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/functions_enum_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/functions_enum_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/functions_enum_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/functions_enum_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/functions_enum_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/functions_enum_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/functions_enum_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/functions_enum_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/functions_enum_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/functions_enum_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/functions_enum_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/functions_enum_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/functions_enum_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/functions_enum_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/functions_enum_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/functions_enum_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/functions_enum_w.html#index_w">w</a></li></ul></li><li><a href="https://llvm.org/doxygen/functions_eval.html" class="has-submenu" id="sm-16462096007650388-31" aria-haspopup="true" aria-controls="sm-16462096007650388-32" aria-expanded="false">Enumerator<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-32" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-31" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions_eval.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/functions_eval_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/functions_eval_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/functions_eval_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/functions_eval_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/functions_eval_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/functions_eval_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/functions_eval_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/functions_eval_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/functions_eval_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/functions_eval_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/functions_eval_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/functions_eval_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/functions_eval_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/functions_eval_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/functions_eval_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/functions_eval_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/functions_eval_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/functions_eval_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/functions_eval_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/functions_eval_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/functions_eval_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/functions_eval_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/functions_eval_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/functions_eval_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/functions_rela.html" class="has-submenu" id="sm-16462096007650388-33" aria-haspopup="true" aria-controls="sm-16462096007650388-34" aria-expanded="false">Related Functions<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-34" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-33" aria-expanded="false"><li><a href="https://llvm.org/doxygen/functions_rela.html#index_:">:</a></li><li><a href="https://llvm.org/doxygen/functions_rela_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/functions_rela_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/functions_rela_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/functions_rela_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/functions_rela_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/functions_rela_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/functions_rela_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/functions_rela_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/functions_rela_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/functions_rela_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/functions_rela_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/functions_rela_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/functions_rela_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/functions_rela_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/functions_rela_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/functions_rela_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/functions_rela_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/functions_rela_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/functions_rela_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/functions_rela_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/functions_rela_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/functions_rela_y.html#index_y">y</a></li></ul></li></ul></li></ul></li><li><a href="https://llvm.org/doxygen/files.html" class="has-submenu" id="sm-16462096007650388-35" aria-haspopup="true" aria-controls="sm-16462096007650388-36" aria-expanded="false">Files<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-36" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-35" aria-expanded="false"><li><a href="https://llvm.org/doxygen/files.html">File List</a></li><li><a href="https://llvm.org/doxygen/globals.html" class="has-submenu" id="sm-16462096007650388-37" aria-haspopup="true" aria-controls="sm-16462096007650388-38" aria-expanded="false">File Members<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-38" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-37" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals.html" class="has-submenu" id="sm-16462096007650388-39" aria-haspopup="true" aria-controls="sm-16462096007650388-40" aria-expanded="false">All<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-40" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-39" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals.html#index__24">$</a></li><li><a href="https://llvm.org/doxygen/globals__.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/globals_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/globals_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/globals_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/globals_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/globals_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/globals_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/globals_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/globals_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/globals_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/globals_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/globals_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/globals_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/globals_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/globals_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/globals_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/globals_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/globals_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/globals_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/globals_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/globals_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/globals_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/globals_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/globals_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/globals_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/globals_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/globals_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/globals_func.html" class="has-submenu" id="sm-16462096007650388-41" aria-haspopup="true" aria-controls="sm-16462096007650388-42" aria-expanded="false">Functions<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-42" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-41" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals_func.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/globals_func_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/globals_func_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/globals_func_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/globals_func_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/globals_func_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/globals_func_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/globals_func_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/globals_func_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/globals_func_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/globals_func_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/globals_func_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/globals_func_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/globals_func_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/globals_func_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/globals_func_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/globals_func_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/globals_func_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/globals_func_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/globals_func_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/globals_func_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/globals_func_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/globals_func_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/globals_func_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/globals_func_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/globals_func_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/globals_func_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/globals_vars.html" class="has-submenu" id="sm-16462096007650388-43" aria-haspopup="true" aria-controls="sm-16462096007650388-44" aria-expanded="false">Variables<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-44" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-43" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals_vars.html#index__24">$</a></li><li><a href="https://llvm.org/doxygen/globals_vars__.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/globals_vars_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/globals_vars_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/globals_vars_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/globals_vars_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/globals_vars_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/globals_vars_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/globals_vars_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/globals_vars_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/globals_vars_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/globals_vars_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/globals_vars_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/globals_vars_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/globals_vars_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/globals_vars_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/globals_vars_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/globals_vars_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/globals_vars_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/globals_vars_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/globals_vars_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/globals_vars_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/globals_vars_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/globals_vars_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/globals_vars_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/globals_vars_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/globals_vars_y.html#index_y">y</a></li><li><a href="https://llvm.org/doxygen/globals_vars_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/globals_type.html" class="has-submenu" id="sm-16462096007650388-45" aria-haspopup="true" aria-controls="sm-16462096007650388-46" aria-expanded="false">Typedefs<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-46" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-45" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals_type.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/globals_type_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/globals_type_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/globals_type_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/globals_type_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/globals_type_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/globals_type_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/globals_type_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/globals_type_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/globals_type_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/globals_type_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/globals_type_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/globals_type_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/globals_type_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/globals_type_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/globals_type_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/globals_type_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/globals_type_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/globals_type_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/globals_type_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/globals_type_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/globals_type_z.html#index_z">z</a></li></ul></li><li><a href="https://llvm.org/doxygen/globals_enum.html" class="has-submenu" id="sm-16462096007650388-47" aria-haspopup="true" aria-controls="sm-16462096007650388-48" aria-expanded="false">Enumerations<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-48" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-47" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals_enum.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/globals_enum.html#index_x">x</a></li></ul></li><li><a href="https://llvm.org/doxygen/globals_eval.html" class="has-submenu" id="sm-16462096007650388-49" aria-haspopup="true" aria-controls="sm-16462096007650388-50" aria-expanded="false">Enumerator<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-50" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-49" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals_eval.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/globals_eval_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/globals_eval_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/globals_eval_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/globals_eval_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/globals_eval_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/globals_eval_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/globals_eval_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/globals_eval_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/globals_eval_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/globals_eval_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/globals_eval_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/globals_eval_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/globals_eval_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/globals_eval_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/globals_eval_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/globals_eval_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/globals_eval_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/globals_eval_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/globals_eval_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/globals_eval_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/globals_eval_v.html#index_v">v</a></li></ul></li><li><a href="https://llvm.org/doxygen/globals_defs.html" class="has-submenu" id="sm-16462096007650388-51" aria-haspopup="true" aria-controls="sm-16462096007650388-52" aria-expanded="false">Macros<span class="sub-arrow"></span></a><ul id="sm-16462096007650388-52" role="group" aria-hidden="true" aria-labelledby="sm-16462096007650388-51" aria-expanded="false"><li><a href="https://llvm.org/doxygen/globals_defs.html#index__5F">_</a></li><li><a href="https://llvm.org/doxygen/globals_defs_a.html#index_a">a</a></li><li><a href="https://llvm.org/doxygen/globals_defs_b.html#index_b">b</a></li><li><a href="https://llvm.org/doxygen/globals_defs_c.html#index_c">c</a></li><li><a href="https://llvm.org/doxygen/globals_defs_d.html#index_d">d</a></li><li><a href="https://llvm.org/doxygen/globals_defs_e.html#index_e">e</a></li><li><a href="https://llvm.org/doxygen/globals_defs_f.html#index_f">f</a></li><li><a href="https://llvm.org/doxygen/globals_defs_g.html#index_g">g</a></li><li><a href="https://llvm.org/doxygen/globals_defs_h.html#index_h">h</a></li><li><a href="https://llvm.org/doxygen/globals_defs_i.html#index_i">i</a></li><li><a href="https://llvm.org/doxygen/globals_defs_j.html#index_j">j</a></li><li><a href="https://llvm.org/doxygen/globals_defs_k.html#index_k">k</a></li><li><a href="https://llvm.org/doxygen/globals_defs_l.html#index_l">l</a></li><li><a href="https://llvm.org/doxygen/globals_defs_m.html#index_m">m</a></li><li><a href="https://llvm.org/doxygen/globals_defs_n.html#index_n">n</a></li><li><a href="https://llvm.org/doxygen/globals_defs_o.html#index_o">o</a></li><li><a href="https://llvm.org/doxygen/globals_defs_p.html#index_p">p</a></li><li><a href="https://llvm.org/doxygen/globals_defs_q.html#index_q">q</a></li><li><a href="https://llvm.org/doxygen/globals_defs_r.html#index_r">r</a></li><li><a href="https://llvm.org/doxygen/globals_defs_s.html#index_s">s</a></li><li><a href="https://llvm.org/doxygen/globals_defs_t.html#index_t">t</a></li><li><a href="https://llvm.org/doxygen/globals_defs_u.html#index_u">u</a></li><li><a href="https://llvm.org/doxygen/globals_defs_v.html#index_v">v</a></li><li><a href="https://llvm.org/doxygen/globals_defs_w.html#index_w">w</a></li><li><a href="https://llvm.org/doxygen/globals_defs_x.html#index_x">x</a></li><li><a href="https://llvm.org/doxygen/globals_defs_z.html#index_z">z</a></li></ul></li></ul></li></ul></li><li><a href="https://llvm.org/doxygen/examples.html">Examples</a></li></ul></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="https://llvm.org/doxygen/dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="https://llvm.org/doxygen/dir_f0dc79bace318df7ec0fa0bdb179ed95.html">Support</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Host.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="https://llvm.org/doxygen/Host_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&nbsp;<span class="comment">//===-- Host.cpp - Implement OS Host Concept --------------------*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&nbsp;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&nbsp;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&nbsp;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&nbsp;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&nbsp;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&nbsp;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&nbsp;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&nbsp;<span class="comment">//  This file implements the operating system Host concept.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&nbsp;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&nbsp;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&nbsp; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/Host_8h.html">llvm/Support/Host.h</a>"</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/SmallSet_8h.html">llvm/ADT/SmallSet.h</a>"</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/SmallVector_8h.html">llvm/ADT/SmallVector.h</a>"</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/StringMap_8h.html">llvm/ADT/StringMap.h</a>"</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/StringRef_8h.html">llvm/ADT/StringRef.h</a>"</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/StringSwitch_8h.html">llvm/ADT/StringSwitch.h</a>"</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/Triple_8h.html">llvm/ADT/Triple.h</a>"</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&nbsp;<span class="preprocessor">#include "llvm/Config/llvm-config.h"</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/BCD_8h.html">llvm/Support/BCD.h</a>"</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/Debug_8h.html">llvm/Support/Debug.h</a>"</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/FileSystem_8h.html">llvm/Support/FileSystem.h</a>"</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/MemoryBuffer_8h.html">llvm/Support/MemoryBuffer.h</a>"</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/X86TargetParser_8h.html">llvm/Support/X86TargetParser.h</a>"</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>"</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&nbsp;<span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&nbsp;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&nbsp; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&nbsp;<span class="comment">// Include the platform-specific parts of this class.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&nbsp;<span class="preprocessor">#ifdef LLVM_ON_UNIX</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/Unix_2Host_8inc.html">Unix/Host.inc</a>"</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&nbsp;<span class="preprocessor">#include &lt;sched.h&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&nbsp;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&nbsp;<span class="preprocessor">#include "<a class="code" href="https://llvm.org/doxygen/Windows_2Host_8inc.html">Windows/Host.inc</a>"</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&nbsp;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&nbsp;<span class="preprocessor">#include &lt;intrin.h&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&nbsp;<span class="preprocessor">#if defined(__APPLE__) &amp;&amp; (!defined(__x86_64__))</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&nbsp;<span class="preprocessor">#include &lt;mach/host_info.h&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&nbsp;<span class="preprocessor">#include &lt;mach/mach.h&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&nbsp;<span class="preprocessor">#include &lt;mach/mach_host.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&nbsp;<span class="preprocessor">#include &lt;mach/machine.h&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&nbsp;<span class="preprocessor">#ifdef _AIX</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&nbsp;<span class="preprocessor">#include &lt;sys/systemcfg.h&gt;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&nbsp; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/Host_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   51</a></span>&nbsp;<span class="preprocessor">#define DEBUG_TYPE "host-detection"</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&nbsp; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&nbsp;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&nbsp;<span class="comment">//</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&nbsp;<span class="comment">//  Implementations of the CPU detection routines</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&nbsp;<span class="comment">//</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&nbsp;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&nbsp; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&nbsp;<span class="keyword">using namespace </span><a class="code" href="https://llvm.org/doxygen/namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&nbsp; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&nbsp;<span class="keyword">static</span> std::unique_ptr&lt;llvm::MemoryBuffer&gt;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/Host_8cpp.html#a50624670d50701a757b4556144b23665">   62</a></span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/Compiler_8h.html#acc1c483f4b4ee2f17bb6643a3b353609">LLVM_ATTRIBUTE_UNUSED</a> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#a50624670d50701a757b4556144b23665">getProcCpuinfoContent</a>() {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1ErrorOr.html">llvm::ErrorOr&lt;std::unique_ptr&lt;llvm::MemoryBuffer&gt;</a>&gt; Text =</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&nbsp;      <a class="code" href="https://llvm.org/doxygen/classllvm_1_1MemoryBuffer.html#a76b193577aa67b1fac72cdbb5343241a">llvm::MemoryBuffer::getFileAsStream</a>(<span class="stringliteral">"/proc/cpuinfo"</span>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&nbsp;  <span class="keywordflow">if</span> (std::error_code EC = Text.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1ErrorOr.html#a8300c72908f1845c931951ed4b2a2375">getError</a>()) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a>() &lt;&lt; <span class="stringliteral">"Can't read "</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&nbsp;                 &lt;&lt; <span class="stringliteral">"/proc/cpuinfo: "</span> &lt;&lt; EC.message() &lt;&lt; <span class="stringliteral">"\n"</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&nbsp;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&nbsp;  }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*Text);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&nbsp;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&nbsp; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a506b97a4c93510ccce514cef204be19d">   73</a></span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a506b97a4c93510ccce514cef204be19d">sys::detail::getHostCPUNameForPowerPC</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> ProcCpuinfoContent) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&nbsp;  <span class="comment">// Access to the Processor Version Register (PVR) on PowerPC is privileged,</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&nbsp;  <span class="comment">// and so we must use an operating-system interface to determine the current</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&nbsp;  <span class="comment">// processor type. On Linux, this is exposed through the /proc/cpuinfo file.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&nbsp;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">generic</span> = <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&nbsp; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&nbsp;  <span class="comment">// The cpu line is second (after the 'processor: 0' line), so if this</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&nbsp;  <span class="comment">// buffer is too small then something has changed (or is wrong).</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a4c923dfa66a41094c8abcd145c7b0a0b">StringRef::const_iterator</a> CPUInfoStart = ProcCpuinfoContent.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a46f643f1eb1939362c7dd79361bcbd0e">begin</a>();</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a4c923dfa66a41094c8abcd145c7b0a0b">StringRef::const_iterator</a> CPUInfoEnd = ProcCpuinfoContent.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a996c7ca3dd6843ba5d55a7c217770270">end</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&nbsp; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a4c923dfa66a41094c8abcd145c7b0a0b">StringRef::const_iterator</a> CIP = CPUInfoStart;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&nbsp; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a4c923dfa66a41094c8abcd145c7b0a0b">StringRef::const_iterator</a> CPUStart = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&nbsp;  <span class="keywordtype">size_t</span> CPULen = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&nbsp; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&nbsp;  <span class="comment">// We need to find the first line which starts with cpu, spaces, and a colon.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&nbsp;  <span class="comment">// After the colon, there may be some additional spaces and then the cpu type.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&nbsp;  <span class="keywordflow">while</span> (CIP &lt; CPUInfoEnd &amp;&amp; CPUStart == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&nbsp;    <span class="keywordflow">if</span> (CIP &lt; CPUInfoEnd &amp;&amp; *CIP == <span class="charliteral">'\n'</span>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&nbsp;      ++CIP;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&nbsp; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&nbsp;    <span class="keywordflow">if</span> (CIP &lt; CPUInfoEnd &amp;&amp; *CIP == <span class="charliteral">'c'</span>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&nbsp;      ++CIP;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&nbsp;      <span class="keywordflow">if</span> (CIP &lt; CPUInfoEnd &amp;&amp; *CIP == <span class="charliteral">'p'</span>) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&nbsp;        ++CIP;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&nbsp;        <span class="keywordflow">if</span> (CIP &lt; CPUInfoEnd &amp;&amp; *CIP == <span class="charliteral">'u'</span>) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&nbsp;          ++CIP;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&nbsp;          <span class="keywordflow">while</span> (CIP &lt; CPUInfoEnd &amp;&amp; (*CIP == <span class="charliteral">' '</span> || *CIP == <span class="charliteral">'\t'</span>))</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&nbsp;            ++CIP;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&nbsp; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&nbsp;          <span class="keywordflow">if</span> (CIP &lt; CPUInfoEnd &amp;&amp; *CIP == <span class="charliteral">':'</span>) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&nbsp;            ++CIP;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&nbsp;            <span class="keywordflow">while</span> (CIP &lt; CPUInfoEnd &amp;&amp; (*CIP == <span class="charliteral">' '</span> || *CIP == <span class="charliteral">'\t'</span>))</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&nbsp;              ++CIP;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&nbsp; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&nbsp;            <span class="keywordflow">if</span> (CIP &lt; CPUInfoEnd) {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&nbsp;              CPUStart = CIP;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&nbsp;              <span class="keywordflow">while</span> (CIP &lt; CPUInfoEnd &amp;&amp; (*CIP != <span class="charliteral">' '</span> &amp;&amp; *CIP != <span class="charliteral">'\t'</span> &amp;&amp;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&nbsp;                                          *CIP != <span class="charliteral">','</span> &amp;&amp; *CIP != <span class="charliteral">'\n'</span>))</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&nbsp;                ++CIP;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&nbsp;              CPULen = CIP - CPUStart;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&nbsp;            }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&nbsp;          }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&nbsp;        }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&nbsp;      }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&nbsp;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&nbsp; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&nbsp;    <span class="keywordflow">if</span> (CPUStart == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&nbsp;      <span class="keywordflow">while</span> (CIP &lt; CPUInfoEnd &amp;&amp; *CIP != <span class="charliteral">'\n'</span>)</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&nbsp;        ++CIP;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&nbsp;  }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&nbsp; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&nbsp;  <span class="keywordflow">if</span> (CPUStart == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&nbsp;    <span class="keywordflow">return</span> <span class="keyword">generic</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&nbsp; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;const char *&gt;</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a>(CPUStart, CPULen))</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"604e"</span>, <span class="stringliteral">"604e"</span>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"604"</span>, <span class="stringliteral">"604"</span>)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"7400"</span>, <span class="stringliteral">"7400"</span>)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"7410"</span>, <span class="stringliteral">"7400"</span>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"7447"</span>, <span class="stringliteral">"7400"</span>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"7455"</span>, <span class="stringliteral">"7450"</span>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"G4"</span>, <span class="stringliteral">"g4"</span>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER4"</span>, <span class="stringliteral">"970"</span>)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"PPC970FX"</span>, <span class="stringliteral">"970"</span>)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"PPC970MP"</span>, <span class="stringliteral">"970"</span>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"G5"</span>, <span class="stringliteral">"g5"</span>)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER5"</span>, <span class="stringliteral">"g5"</span>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"A2"</span>, <span class="stringliteral">"a2"</span>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER6"</span>, <span class="stringliteral">"pwr6"</span>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER7"</span>, <span class="stringliteral">"pwr7"</span>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER8"</span>, <span class="stringliteral">"pwr8"</span>)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER8E"</span>, <span class="stringliteral">"pwr8"</span>)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER8NVL"</span>, <span class="stringliteral">"pwr8"</span>)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER9"</span>, <span class="stringliteral">"pwr9"</span>)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"POWER10"</span>, <span class="stringliteral">"pwr10"</span>)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&nbsp;      <span class="comment">// FIXME: If we get a simulator or machine with the capabilities of</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&nbsp;      <span class="comment">// mcpu=future, we should revisit this and add the name reported by the</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&nbsp;      <span class="comment">// simulator/machine.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="keyword">generic</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&nbsp;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&nbsp; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a5cd7a516996539c18628e51d9f628e07">  156</a></span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a5cd7a516996539c18628e51d9f628e07">sys::detail::getHostCPUNameForARM</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> ProcCpuinfoContent) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&nbsp;  <span class="comment">// The cpuid register on arm is not accessible from user space. On Linux,</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&nbsp;  <span class="comment">// it is exposed through the /proc/cpuinfo file.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&nbsp; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&nbsp;  <span class="comment">// Read 32 lines from /proc/cpuinfo, which should contain the CPU part line</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&nbsp;  <span class="comment">// in all cases.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 32&gt;</a> Lines;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&nbsp;  ProcCpuinfoContent.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a74783910a317456a47477f21dc8a73de">split</a>(Lines, <span class="stringliteral">"\n"</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&nbsp; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&nbsp;  <span class="comment">// Look for the CPU implementer line.</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> Implementer;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> Hardware;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> Part;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&nbsp;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Lines.size(); <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&nbsp;    <span class="keywordflow">if</span> (Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="https://llvm.org/doxygen/Magic_8cpp.html#a3c4dfe70f4dcd8100bfb9a037b95a664">startswith</a>(<span class="stringliteral">"CPU implementer"</span>))</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&nbsp;      Implementer = Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].substr(15).ltrim(<span class="stringliteral">"\t :"</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&nbsp;    <span class="keywordflow">if</span> (Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="https://llvm.org/doxygen/Magic_8cpp.html#a3c4dfe70f4dcd8100bfb9a037b95a664">startswith</a>(<span class="stringliteral">"Hardware"</span>))</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&nbsp;      Hardware = Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].substr(8).ltrim(<span class="stringliteral">"\t :"</span>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&nbsp;    <span class="keywordflow">if</span> (Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="https://llvm.org/doxygen/Magic_8cpp.html#a3c4dfe70f4dcd8100bfb9a037b95a664">startswith</a>(<span class="stringliteral">"CPU part"</span>))</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&nbsp;      Part = Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].substr(8).ltrim(<span class="stringliteral">"\t :"</span>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&nbsp;  }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&nbsp; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&nbsp;  <span class="keywordflow">if</span> (Implementer == <span class="stringliteral">"0x41"</span>) { <span class="comment">// ARM Ltd.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&nbsp;    <span class="comment">// MSM8992/8994 may give cpu part for the core that the kernel is running on,</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&nbsp;    <span class="comment">// which is undeterministic and wrong. Always return cortex-a53 for these SoC.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&nbsp;    <span class="keywordflow">if</span> (Hardware.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a8d8d8ac344177b9d62cff2fd70fa8d4e">endswith</a>(<span class="stringliteral">"MSM8994"</span>) || Hardware.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a8d8d8ac344177b9d62cff2fd70fa8d4e">endswith</a>(<span class="stringliteral">"MSM8996"</span>))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"cortex-a53"</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&nbsp; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&nbsp; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&nbsp;    <span class="comment">// The CPU part is a 3 digit hexadecimal number with a 0x prefix. The</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&nbsp;    <span class="comment">// values correspond to the "Part number" in the CP15/c0 register. The</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&nbsp;    <span class="comment">// contents are specified in the various processor manuals.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&nbsp;    <span class="comment">// This corresponds to the Main ID Register in Technical Reference Manuals.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&nbsp;    <span class="comment">// and is used in programs like sys-utils</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;const char *&gt;</a>(Part)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x926"</span>, <span class="stringliteral">"arm926ej-s"</span>)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xb02"</span>, <span class="stringliteral">"mpcore"</span>)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xb36"</span>, <span class="stringliteral">"arm1136j-s"</span>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xb56"</span>, <span class="stringliteral">"arm1156t2-s"</span>)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xb76"</span>, <span class="stringliteral">"arm1176jz-s"</span>)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc08"</span>, <span class="stringliteral">"cortex-a8"</span>)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc09"</span>, <span class="stringliteral">"cortex-a9"</span>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc0f"</span>, <span class="stringliteral">"cortex-a15"</span>)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc20"</span>, <span class="stringliteral">"cortex-m0"</span>)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc23"</span>, <span class="stringliteral">"cortex-m3"</span>)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc24"</span>, <span class="stringliteral">"cortex-m4"</span>)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd22"</span>, <span class="stringliteral">"cortex-m55"</span>)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd02"</span>, <span class="stringliteral">"cortex-a34"</span>)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd04"</span>, <span class="stringliteral">"cortex-a35"</span>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd03"</span>, <span class="stringliteral">"cortex-a53"</span>)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd07"</span>, <span class="stringliteral">"cortex-a57"</span>)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd08"</span>, <span class="stringliteral">"cortex-a72"</span>)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd09"</span>, <span class="stringliteral">"cortex-a73"</span>)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd0a"</span>, <span class="stringliteral">"cortex-a75"</span>)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd0b"</span>, <span class="stringliteral">"cortex-a76"</span>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd0d"</span>, <span class="stringliteral">"cortex-a77"</span>)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd41"</span>, <span class="stringliteral">"cortex-a78"</span>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd44"</span>, <span class="stringliteral">"cortex-x1"</span>)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd4c"</span>, <span class="stringliteral">"cortex-x1c"</span>)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd0c"</span>, <span class="stringliteral">"neoverse-n1"</span>)</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd49"</span>, <span class="stringliteral">"neoverse-n2"</span>)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd40"</span>, <span class="stringliteral">"neoverse-v1"</span>)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="stringliteral">"generic"</span>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&nbsp;  }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&nbsp; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&nbsp;  <span class="keywordflow">if</span> (Implementer == <span class="stringliteral">"0x42"</span> || Implementer == <span class="stringliteral">"0x43"</span>) { <span class="comment">// Broadcom | Cavium.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;const char *&gt;</a>(Part)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x516"</span>, <span class="stringliteral">"thunderx2t99"</span>)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x0516"</span>, <span class="stringliteral">"thunderx2t99"</span>)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xaf"</span>, <span class="stringliteral">"thunderx2t99"</span>)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x0af"</span>, <span class="stringliteral">"thunderx2t99"</span>)</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xa1"</span>, <span class="stringliteral">"thunderxt88"</span>)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x0a1"</span>, <span class="stringliteral">"thunderxt88"</span>)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="stringliteral">"generic"</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&nbsp;  }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&nbsp; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&nbsp;  <span class="keywordflow">if</span> (Implementer == <span class="stringliteral">"0x46"</span>) { <span class="comment">// Fujitsu Ltd.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;const char *&gt;</a>(Part)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x001"</span>, <span class="stringliteral">"a64fx"</span>)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="stringliteral">"generic"</span>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&nbsp;  }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&nbsp; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&nbsp;  <span class="keywordflow">if</span> (Implementer == <span class="stringliteral">"0x4e"</span>) { <span class="comment">// NVIDIA Corporation</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;const char *&gt;</a>(Part)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x004"</span>, <span class="stringliteral">"carmel"</span>)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="stringliteral">"generic"</span>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&nbsp;  }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&nbsp; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&nbsp;  <span class="keywordflow">if</span> (Implementer == <span class="stringliteral">"0x48"</span>) <span class="comment">// HiSilicon Technologies, Inc.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&nbsp;    <span class="comment">// The CPU part is a 3 digit hexadecimal number with a 0x prefix. The</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&nbsp;    <span class="comment">// values correspond to the "Part number" in the CP15/c0 register. The</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&nbsp;    <span class="comment">// contents are specified in the various processor manuals.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;const char *&gt;</a>(Part)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xd01"</span>, <span class="stringliteral">"tsv110"</span>)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&nbsp;      .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="stringliteral">"generic"</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&nbsp; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&nbsp;  <span class="keywordflow">if</span> (Implementer == <span class="stringliteral">"0x51"</span>) <span class="comment">// Qualcomm Technologies, Inc.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&nbsp;    <span class="comment">// The CPU part is a 3 digit hexadecimal number with a 0x prefix. The</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&nbsp;    <span class="comment">// values correspond to the "Part number" in the CP15/c0 register. The</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&nbsp;    <span class="comment">// contents are specified in the various processor manuals.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;const char *&gt;</a>(Part)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x06f"</span>, <span class="stringliteral">"krait"</span>) <span class="comment">// APQ8064</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x201"</span>, <span class="stringliteral">"kryo"</span>)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x205"</span>, <span class="stringliteral">"kryo"</span>)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x211"</span>, <span class="stringliteral">"kryo"</span>)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x800"</span>, <span class="stringliteral">"cortex-a73"</span>) <span class="comment">// Kryo 2xx Gold</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x801"</span>, <span class="stringliteral">"cortex-a73"</span>) <span class="comment">// Kryo 2xx Silver</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x802"</span>, <span class="stringliteral">"cortex-a75"</span>) <span class="comment">// Kryo 3xx Gold</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x803"</span>, <span class="stringliteral">"cortex-a75"</span>) <span class="comment">// Kryo 3xx Silver</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x804"</span>, <span class="stringliteral">"cortex-a76"</span>) <span class="comment">// Kryo 4xx Gold</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0x805"</span>, <span class="stringliteral">"cortex-a76"</span>) <span class="comment">// Kryo 4xx/5xx Silver</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc00"</span>, <span class="stringliteral">"falkor"</span>)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"0xc01"</span>, <span class="stringliteral">"saphira"</span>)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&nbsp;        .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="stringliteral">"generic"</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&nbsp;  <span class="keywordflow">if</span> (Implementer == <span class="stringliteral">"0x53"</span>) { <span class="comment">// Samsung Electronics Co., Ltd.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&nbsp;    <span class="comment">// The Exynos chips have a convoluted ID scheme that doesn't seem to follow</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&nbsp;    <span class="comment">// any predictive pattern across variants and parts.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&nbsp;    <span class="keywordtype">unsigned</span> Variant = 0, Part = 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&nbsp; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&nbsp;    <span class="comment">// Look for the CPU variant line, whose value is a 1 digit hexadecimal</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&nbsp;    <span class="comment">// number, corresponding to the Variant bits in the CP15/C0 register.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&nbsp;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Lines)</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&nbsp;      <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.consume_front(<span class="stringliteral">"CPU variant"</span>))</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&nbsp;        <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.ltrim(<span class="stringliteral">"\t :"</span>).getAsInteger(0, Variant);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&nbsp; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&nbsp;    <span class="comment">// Look for the CPU part line, whose value is a 3 digit hexadecimal</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&nbsp;    <span class="comment">// number, corresponding to the PartNum bits in the CP15/C0 register.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&nbsp;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Lines)</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&nbsp;      <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.consume_front(<span class="stringliteral">"CPU part"</span>))</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&nbsp;        <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.ltrim(<span class="stringliteral">"\t :"</span>).getAsInteger(0, Part);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&nbsp; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&nbsp;    <span class="keywordtype">unsigned</span> Exynos = (Variant &lt;&lt; 12) | Part;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&nbsp;    <span class="keywordflow">switch</span> (Exynos) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&nbsp;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&nbsp;      <span class="comment">// Default by falling through to Exynos M3.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&nbsp;      <a class="code" href="https://llvm.org/doxygen/Compiler_8h.html#a9579881de06b1560d242d15171ca1b86">LLVM_FALLTHROUGH</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&nbsp;    <span class="keywordflow">case</span> 0x1002:</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"exynos-m3"</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&nbsp;    <span class="keywordflow">case</span> 0x1003:</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"exynos-m4"</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&nbsp;    }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&nbsp;  }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&nbsp; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&nbsp;}</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&nbsp; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&nbsp;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> getCPUNameFromS390Model(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>, <span class="keywordtype">bool</span> HaveVectorSupport) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&nbsp;  <span class="keywordflow">switch</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&nbsp;    <span class="keywordflow">case</span> 2064:  <span class="comment">// z900 not supported by LLVM</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&nbsp;    <span class="keywordflow">case</span> 2066:</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&nbsp;    <span class="keywordflow">case</span> 2084:  <span class="comment">// z990 not supported by LLVM</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&nbsp;    <span class="keywordflow">case</span> 2086:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&nbsp;    <span class="keywordflow">case</span> 2094:  <span class="comment">// z9-109 not supported by LLVM</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&nbsp;    <span class="keywordflow">case</span> 2096:</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&nbsp;    <span class="keywordflow">case</span> 2097:</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&nbsp;    <span class="keywordflow">case</span> 2098:</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"z10"</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&nbsp;    <span class="keywordflow">case</span> 2817:</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&nbsp;    <span class="keywordflow">case</span> 2818:</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"z196"</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&nbsp;    <span class="keywordflow">case</span> 2827:</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&nbsp;    <span class="keywordflow">case</span> 2828:</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"zEC12"</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&nbsp;    <span class="keywordflow">case</span> 2964:</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&nbsp;    <span class="keywordflow">case</span> 2965:</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&nbsp;      <span class="keywordflow">return</span> HaveVectorSupport? <span class="stringliteral">"z13"</span> : <span class="stringliteral">"zEC12"</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&nbsp;    <span class="keywordflow">case</span> 3906:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&nbsp;    <span class="keywordflow">case</span> 3907:</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&nbsp;      <span class="keywordflow">return</span> HaveVectorSupport? <span class="stringliteral">"z14"</span> : <span class="stringliteral">"zEC12"</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&nbsp;    <span class="keywordflow">case</span> 8561:</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&nbsp;    <span class="keywordflow">case</span> 8562:</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&nbsp;      <span class="keywordflow">return</span> HaveVectorSupport? <span class="stringliteral">"z15"</span> : <span class="stringliteral">"zEC12"</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&nbsp;    <span class="keywordflow">case</span> 3931:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&nbsp;    <span class="keywordflow">case</span> 3932:</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&nbsp;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&nbsp;      <span class="keywordflow">return</span> HaveVectorSupport? <span class="stringliteral">"arch14"</span> : <span class="stringliteral">"zEC12"</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&nbsp;  }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&nbsp;}</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&nbsp;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&nbsp; </div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a3455f56c4a28156282d4f5cd6265e034">  338</a></span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a3455f56c4a28156282d4f5cd6265e034">sys::detail::getHostCPUNameForS390x</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> ProcCpuinfoContent) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&nbsp;  <span class="comment">// STIDP is a privileged operation, so use /proc/cpuinfo instead.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&nbsp; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&nbsp;  <span class="comment">// The "processor 0:" line comes after a fair amount of other information,</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&nbsp;  <span class="comment">// including a cache breakdown, but this should be plenty.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 32&gt;</a> Lines;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&nbsp;  ProcCpuinfoContent.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a74783910a317456a47477f21dc8a73de">split</a>(Lines, <span class="stringliteral">"\n"</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&nbsp; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&nbsp;  <span class="comment">// Look for the CPU features.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 32&gt;</a> CPUFeatures;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&nbsp;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Lines.size(); <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&nbsp;    <span class="keywordflow">if</span> (Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="https://llvm.org/doxygen/Magic_8cpp.html#a3c4dfe70f4dcd8100bfb9a037b95a664">startswith</a>(<span class="stringliteral">"features"</span>)) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&nbsp;      <span class="keywordtype">size_t</span> Pos = Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].find(<span class="charliteral">':'</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&nbsp;      <span class="keywordflow">if</span> (Pos != <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&nbsp;        Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].drop_front(Pos + 1).split(CPUFeatures, <span class="charliteral">' '</span>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&nbsp;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&nbsp;      }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&nbsp;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&nbsp; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&nbsp;  <span class="comment">// We need to check for the presence of vector support independently of</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&nbsp;  <span class="comment">// the machine type, since we may only use the vector register set when</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&nbsp;  <span class="comment">// supported by the kernel (and hypervisor).</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&nbsp;  <span class="keywordtype">bool</span> HaveVectorSupport = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&nbsp;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = CPUFeatures.size(); <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&nbsp;    <span class="keywordflow">if</span> (CPUFeatures[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="stringliteral">"vx"</span>)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&nbsp;      HaveVectorSupport = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&nbsp;  }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&nbsp; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&nbsp;  <span class="comment">// Now check the processor machine type.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&nbsp;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Lines.size(); <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&nbsp;    <span class="keywordflow">if</span> (Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="https://llvm.org/doxygen/Magic_8cpp.html#a3c4dfe70f4dcd8100bfb9a037b95a664">startswith</a>(<span class="stringliteral">"processor "</span>)) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&nbsp;      <span class="keywordtype">size_t</span> Pos = Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].find(<span class="stringliteral">"machine = "</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&nbsp;      <span class="keywordflow">if</span> (Pos != <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&nbsp;        Pos += <span class="keyword">sizeof</span>(<span class="stringliteral">"machine = "</span>) - 1;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&nbsp;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&nbsp;        <span class="keywordflow">if</span> (!Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].drop_front(Pos).getAsInteger(10, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>))</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&nbsp;          <span class="keywordflow">return</span> getCPUNameFromS390Model(<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>, HaveVectorSupport);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&nbsp;      }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&nbsp;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&nbsp;  }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&nbsp; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&nbsp;}</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&nbsp; </div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a586f1a912d0b5bf5a176e0b3799de5b7">  383</a></span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a586f1a912d0b5bf5a176e0b3799de5b7">sys::detail::getHostCPUNameForBPF</a>() {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&nbsp;<span class="preprocessor">#if !defined(__linux__) || !defined(__x86_64__)</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&nbsp;  uint8_t v3_insns[40] __attribute__ ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1support.html#a338726aef568a15feeb1b99ffff4409caa2d63b0536e1684292bd8bbbe49a6099">aligned</a> (8))) =</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&nbsp;      <span class="comment">/* BPF_MOV64_IMM(BPF_REG_0, 0) */</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&nbsp;    { 0xb7, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&nbsp;      <span class="comment">/* BPF_MOV64_IMM(BPF_REG_2, 1) */</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&nbsp;      0xb7, 0x2, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&nbsp;      <span class="comment">/* BPF_JMP32_REG(BPF_JLT, BPF_REG_0, BPF_REG_2, 1) */</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&nbsp;      0xae, 0x20, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&nbsp;      <span class="comment">/* BPF_MOV64_IMM(BPF_REG_0, 1) */</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&nbsp;      0xb7, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&nbsp;      <span class="comment">/* BPF_EXIT_INSN() */</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&nbsp;      0x95, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0 };</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&nbsp; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&nbsp;  uint8_t v2_insns[40] __attribute__ ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1support.html#a338726aef568a15feeb1b99ffff4409caa2d63b0536e1684292bd8bbbe49a6099">aligned</a> (8))) =</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&nbsp;      <span class="comment">/* BPF_MOV64_IMM(BPF_REG_0, 0) */</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&nbsp;    { 0xb7, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&nbsp;      <span class="comment">/* BPF_MOV64_IMM(BPF_REG_2, 1) */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&nbsp;      0xb7, 0x2, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&nbsp;      <span class="comment">/* BPF_JMP_REG(BPF_JLT, BPF_REG_0, BPF_REG_2, 1) */</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&nbsp;      0xad, 0x20, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&nbsp;      <span class="comment">/* BPF_MOV64_IMM(BPF_REG_0, 1) */</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&nbsp;      0xb7, 0x0, 0x0, 0x0, 0x1, 0x0, 0x0, 0x0,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&nbsp;      <span class="comment">/* BPF_EXIT_INSN() */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&nbsp;      0x95, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0 };</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&nbsp; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&nbsp;  <span class="keyword">struct </span>bpf_prog_load_attr {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> prog_type;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> insn_cnt;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a> insns;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a> license;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> log_level;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> log_size;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a> log_buf;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> kern_version;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> prog_flags;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&nbsp;  } attr = {};</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&nbsp;  attr.prog_type = 1; <span class="comment">/* BPF_PROG_TYPE_SOCKET_FILTER */</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&nbsp;  attr.insn_cnt = 5;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&nbsp;  attr.insns = (<a class="code" href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a>)v3_insns;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&nbsp;  attr.license = (<a class="code" href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a>)<span class="stringliteral">"DUMMY"</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&nbsp; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&nbsp;  <span class="keywordtype">int</span> fd = syscall(321 <span class="comment">/* __NR_bpf */</span>, 5 <span class="comment">/* BPF_PROG_LOAD */</span>, &amp;attr,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&nbsp;                   <span class="keyword">sizeof</span>(attr));</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&nbsp;  <span class="keywordflow">if</span> (fd &gt;= 0) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&nbsp;    close(fd);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"v3"</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&nbsp;  }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&nbsp; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&nbsp;  <span class="comment">/* Clear the whole attr in case its content changed by syscall. */</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&nbsp;  memset(&amp;attr, 0, <span class="keyword">sizeof</span>(attr));</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&nbsp;  attr.prog_type = 1; <span class="comment">/* BPF_PROG_TYPE_SOCKET_FILTER */</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&nbsp;  attr.insn_cnt = 5;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&nbsp;  attr.insns = (<a class="code" href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a>)v2_insns;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&nbsp;  attr.license = (<a class="code" href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a>)<span class="stringliteral">"DUMMY"</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&nbsp;  fd = syscall(321 <span class="comment">/* __NR_bpf */</span>, 5 <span class="comment">/* BPF_PROG_LOAD */</span>, &amp;attr, <span class="keyword">sizeof</span>(attr));</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&nbsp;  <span class="keywordflow">if</span> (fd &gt;= 0) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&nbsp;    close(fd);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"v2"</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&nbsp;  }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"v1"</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&nbsp;}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&nbsp; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&nbsp;<span class="preprocessor">#if defined(__i386__) || defined(_M_IX86) || \</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&nbsp;<span class="preprocessor">    defined(__x86_64__) || defined(_M_X64)</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&nbsp; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&nbsp;<span class="comment">// The check below for i386 was copied from clang's cpuid.h (__get_cpuid_max).</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&nbsp;<span class="comment">// Check motivated by bug reports for OpenSSL crashing on CPUs without CPUID</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&nbsp;<span class="comment">// support. Consequently, for i386, the presence of CPUID is checked first</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&nbsp;<span class="comment">// via the corresponding eflags bit.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&nbsp;<span class="comment">// Removal of cpuid.h header motivated by PR30384</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&nbsp;<span class="comment">// Header cpuid.h and method __get_cpuid_max are not used in llvm, clang, openmp</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&nbsp;<span class="comment">// or test-suite, but are used in external projects e.g. libstdcxx</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&nbsp;<span class="keyword">static</span> <span class="keywordtype">bool</span> isCpuIdSupported() {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&nbsp;<span class="preprocessor">#if defined(__GNUC__) || defined(__clang__)</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&nbsp;<span class="preprocessor">#if defined(__i386__)</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&nbsp;  <span class="keywordtype">int</span> __cpuid_supported;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&nbsp;  __asm__(<span class="stringliteral">"  pushfl\n"</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&nbsp;          <span class="stringliteral">"  popl   %%eax\n"</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&nbsp;          <span class="stringliteral">"  movl   %%eax,%%ecx\n"</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&nbsp;          <span class="stringliteral">"  xorl   $0x00200000,%%eax\n"</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&nbsp;          <span class="stringliteral">"  pushl  %%eax\n"</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&nbsp;          <span class="stringliteral">"  popfl\n"</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&nbsp;          <span class="stringliteral">"  pushfl\n"</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&nbsp;          <span class="stringliteral">"  popl   %%eax\n"</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&nbsp;          <span class="stringliteral">"  movl   $0,%0\n"</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&nbsp;          <span class="stringliteral">"  cmpl   %%eax,%%ecx\n"</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&nbsp;          <span class="stringliteral">"  je     1f\n"</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&nbsp;          <span class="stringliteral">"  movl   $1,%0\n"</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&nbsp;          <span class="stringliteral">"1:"</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&nbsp;          : <span class="stringliteral">"=r"</span>(__cpuid_supported)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&nbsp;          :</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&nbsp;          : <span class="stringliteral">"eax"</span>, <span class="stringliteral">"ecx"</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&nbsp;  <span class="keywordflow">if</span> (!__cpuid_supported)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&nbsp;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&nbsp;}</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&nbsp;<span class="comment"></span> </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&nbsp;<span class="comment">/// getX86CpuIDAndInfo - Execute the specified cpuid and return the 4 values in</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&nbsp;<span class="comment">/// the specified arguments.  If we can't run cpuid on the host, return true.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&nbsp;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> getX86CpuIDAndInfo(<span class="keywordtype">unsigned</span> value, <span class="keywordtype">unsigned</span> *rEAX, <span class="keywordtype">unsigned</span> *rEBX,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&nbsp;                               <span class="keywordtype">unsigned</span> *rECX, <span class="keywordtype">unsigned</span> *rEDX) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&nbsp;<span class="preprocessor">#if defined(__GNUC__) || defined(__clang__)</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&nbsp;<span class="preprocessor">#if defined(__x86_64__)</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&nbsp;  <span class="comment">// gcc doesn't know cpuid would clobber ebx/rbx. Preserve it manually.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&nbsp;  <span class="comment">// FIXME: should we save this for Clang?</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&nbsp;  __asm__(<span class="stringliteral">"movq\t%%rbx, %%rsi\n\t"</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&nbsp;          <span class="stringliteral">"cpuid\n\t"</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&nbsp;          <span class="stringliteral">"xchgq\t%%rbx, %%rsi\n\t"</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&nbsp;          : <span class="stringliteral">"=a"</span>(*rEAX), <span class="stringliteral">"=S"</span>(*rEBX), <span class="stringliteral">"=c"</span>(*rECX), <span class="stringliteral">"=d"</span>(*rEDX)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&nbsp;          : <span class="stringliteral">"a"</span>(value));</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&nbsp;<span class="preprocessor">#elif defined(__i386__)</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&nbsp;  __asm__(<span class="stringliteral">"movl\t%%ebx, %%esi\n\t"</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&nbsp;          <span class="stringliteral">"cpuid\n\t"</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&nbsp;          <span class="stringliteral">"xchgl\t%%ebx, %%esi\n\t"</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&nbsp;          : <span class="stringliteral">"=a"</span>(*rEAX), <span class="stringliteral">"=S"</span>(*rEBX), <span class="stringliteral">"=c"</span>(*rECX), <span class="stringliteral">"=d"</span>(*rEDX)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&nbsp;          : <span class="stringliteral">"a"</span>(value));</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&nbsp;<span class="preprocessor">#elif defined(_MSC_VER)</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&nbsp;  <span class="comment">// The MSVC intrinsic is portable across x86 and x64.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&nbsp;  <span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[4];</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&nbsp;  __cpuid(<a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>, value);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&nbsp;  *rEAX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[0];</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&nbsp;  *rEBX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[1];</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&nbsp;  *rECX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[2];</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&nbsp;  *rEDX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[3];</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&nbsp;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&nbsp; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&nbsp;<span class="keyword">namespace </span><a class="code" href="https://llvm.org/doxygen/namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&nbsp;<span class="keyword">namespace </span>sys {</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&nbsp;<span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&nbsp;<span class="keyword">namespace </span><a class="code" href="https://llvm.org/doxygen/lib_2Target_2README_8txt.html#a2352e45658fc7292aa209a94baa095e9">x86</a> {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&nbsp; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466">VendorSignatures</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#af6098093bce999858442cd6a17a299e9">getVendorSignature</a>(<span class="keywordtype">unsigned</span> *MaxLeaf) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&nbsp;  <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> = 0;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&nbsp;  <span class="keywordflow">if</span> (MaxLeaf == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&nbsp;    MaxLeaf = &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&nbsp;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&nbsp;    *MaxLeaf = 0;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&nbsp; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&nbsp;  <span class="keywordflow">if</span> (!isCpuIdSupported())</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1LPAC.html#ab2e8fd263c886a713ccba7505c1b2ee0a9ac6c6caa2e21edbfeba176ac8f78b4d">VendorSignatures::UNKNOWN</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&nbsp; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&nbsp;  <span class="keywordflow">if</span> (getX86CpuIDAndInfo(0, MaxLeaf, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>) || *MaxLeaf &lt; 1)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&nbsp;    <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1LPAC.html#ab2e8fd263c886a713ccba7505c1b2ee0a9ac6c6caa2e21edbfeba176ac8f78b4d">VendorSignatures::UNKNOWN</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&nbsp; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&nbsp;  <span class="comment">// "Genu ineI ntel"</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&nbsp;  <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> == 0x756e6547 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> == 0x49656e69 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> == 0x6c65746e)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&nbsp;    <span class="keywordflow">return</span> VendorSignatures::GENUINE_INTEL;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&nbsp; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&nbsp;  <span class="comment">// "Auth enti cAMD"</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&nbsp;  <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> == 0x68747541 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> == 0x69746e65 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> == 0x444d4163)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&nbsp;    <span class="keywordflow">return</span> VendorSignatures::AUTHENTIC_AMD;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&nbsp; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1LPAC.html#ab2e8fd263c886a713ccba7505c1b2ee0a9ac6c6caa2e21edbfeba176ac8f78b4d">VendorSignatures::UNKNOWN</a>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&nbsp;}</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&nbsp; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&nbsp;} <span class="comment">// namespace x86</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&nbsp;} <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&nbsp;} <span class="comment">// namespace sys</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&nbsp;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&nbsp; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&nbsp;<span class="keyword">using namespace </span><a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html">llvm::sys::detail::x86</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&nbsp;<span class="comment"></span> </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&nbsp;<span class="comment">/// getX86CpuIDAndInfoEx - Execute the specified cpuid with subleaf and return</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&nbsp;<span class="comment">/// the 4 values in the specified arguments.  If we can't run cpuid on the host,</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&nbsp;<span class="comment">/// return true.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&nbsp;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> getX86CpuIDAndInfoEx(<span class="keywordtype">unsigned</span> value, <span class="keywordtype">unsigned</span> subleaf,</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&nbsp;                                 <span class="keywordtype">unsigned</span> *rEAX, <span class="keywordtype">unsigned</span> *rEBX, <span class="keywordtype">unsigned</span> *rECX,</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&nbsp;                                 <span class="keywordtype">unsigned</span> *rEDX) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&nbsp;<span class="preprocessor">#if defined(__GNUC__) || defined(__clang__)</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&nbsp;<span class="preprocessor">#if defined(__x86_64__)</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&nbsp;  <span class="comment">// gcc doesn't know cpuid would clobber ebx/rbx. Preserve it manually.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&nbsp;  <span class="comment">// FIXME: should we save this for Clang?</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&nbsp;  __asm__(<span class="stringliteral">"movq\t%%rbx, %%rsi\n\t"</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&nbsp;          <span class="stringliteral">"cpuid\n\t"</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&nbsp;          <span class="stringliteral">"xchgq\t%%rbx, %%rsi\n\t"</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&nbsp;          : <span class="stringliteral">"=a"</span>(*rEAX), <span class="stringliteral">"=S"</span>(*rEBX), <span class="stringliteral">"=c"</span>(*rECX), <span class="stringliteral">"=d"</span>(*rEDX)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&nbsp;          : <span class="stringliteral">"a"</span>(value), <span class="stringliteral">"c"</span>(subleaf));</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&nbsp;<span class="preprocessor">#elif defined(__i386__)</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&nbsp;  __asm__(<span class="stringliteral">"movl\t%%ebx, %%esi\n\t"</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&nbsp;          <span class="stringliteral">"cpuid\n\t"</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&nbsp;          <span class="stringliteral">"xchgl\t%%ebx, %%esi\n\t"</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&nbsp;          : <span class="stringliteral">"=a"</span>(*rEAX), <span class="stringliteral">"=S"</span>(*rEBX), <span class="stringliteral">"=c"</span>(*rECX), <span class="stringliteral">"=d"</span>(*rEDX)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&nbsp;          : <span class="stringliteral">"a"</span>(value), <span class="stringliteral">"c"</span>(subleaf));</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&nbsp;<span class="preprocessor">#elif defined(_MSC_VER)</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&nbsp;  <span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[4];</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&nbsp;  __cpuidex(<a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>, value, subleaf);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&nbsp;  *rEAX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[0];</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&nbsp;  *rEBX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[1];</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&nbsp;  *rECX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[2];</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&nbsp;  *rEDX = <a class="code" href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a>[3];</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&nbsp;}</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&nbsp; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&nbsp;<span class="comment">// Read control register 0 (XCR0). Used to detect features such as AVX.</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&nbsp;<span class="keyword">static</span> <span class="keywordtype">bool</span> getX86XCR0(<span class="keywordtype">unsigned</span> *rEAX, <span class="keywordtype">unsigned</span> *rEDX) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&nbsp;<span class="preprocessor">#if defined(__GNUC__) || defined(__clang__)</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&nbsp;  <span class="comment">// Check xgetbv; this uses a .byte sequence instead of the instruction</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&nbsp;  <span class="comment">// directly because older assemblers do not include support for xgetbv and</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&nbsp;  <span class="comment">// there is no easy way to conditionally compile based on the assembler used.</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&nbsp;  __asm__(<span class="stringliteral">".byte 0x0f, 0x01, 0xd0"</span> : <span class="stringliteral">"=a"</span>(*rEAX), <span class="stringliteral">"=d"</span>(*rEDX) : <span class="stringliteral">"c"</span>(0));</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&nbsp;<span class="preprocessor">#elif defined(_MSC_FULL_VER) &amp;&amp; defined(_XCR_XFEATURE_ENABLED_MASK)</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&nbsp;  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> = _xgetbv(_XCR_XFEATURE_ENABLED_MASK);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&nbsp;  *rEAX = <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&nbsp;  *rEDX = <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">Result</a> &gt;&gt; 32;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&nbsp;}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&nbsp; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&nbsp;<span class="keyword">static</span> <span class="keywordtype">void</span> detectX86FamilyModel(<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, <span class="keywordtype">unsigned</span> *Family,</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&nbsp;                                 <span class="keywordtype">unsigned</span> *<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&nbsp;  *Family = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 8) &amp; 0xf; <span class="comment">// Bits 8 - 11</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&nbsp;  *<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 4) &amp; 0xf;  <span class="comment">// Bits 4 - 7</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&nbsp;  <span class="keywordflow">if</span> (*Family == 6 || *Family == 0xf) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&nbsp;    <span class="keywordflow">if</span> (*Family == 0xf)</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&nbsp;      <span class="comment">// Examine extended family ID if family ID is F.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&nbsp;      *Family += (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 20) &amp; 0xff; <span class="comment">// Bits 20 - 27</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&nbsp;    <span class="comment">// Examine extended model ID if family ID is 6 or F.</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&nbsp;    *<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> += ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 16) &amp; 0xf) &lt;&lt; 4; <span class="comment">// Bits 16 - 19</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&nbsp;  }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&nbsp;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&nbsp; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&nbsp;<span class="keyword">static</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&nbsp;getIntelProcessorTypeAndSubtype(<span class="keywordtype">unsigned</span> Family, <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>,</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&nbsp;                                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> *Features,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&nbsp;                                <span class="keywordtype">unsigned</span> *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a>, <span class="keywordtype">unsigned</span> *Subtype) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&nbsp;  <span class="keyword">auto</span> testFeature = [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&nbsp;    <span class="keywordflow">return</span> (Features[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> / 32] &amp; (1U &lt;&lt; (<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> % 32))) != 0;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&nbsp;  };</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&nbsp; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> CPU;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&nbsp; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&nbsp;  <span class="keywordflow">switch</span> (Family) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&nbsp;  <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&nbsp;    CPU = <span class="stringliteral">"i386"</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&nbsp;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&nbsp;    CPU = <span class="stringliteral">"i486"</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&nbsp;  <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&nbsp;    <span class="keywordflow">if</span> (testFeature(X86::FEATURE_MMX)) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&nbsp;      CPU = <span class="stringliteral">"pentium-mmx"</span>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&nbsp;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&nbsp;    CPU = <span class="stringliteral">"pentium"</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&nbsp;  <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&nbsp;    <span class="keywordflow">switch</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&nbsp;    <span class="keywordflow">case</span> 0x0f: <span class="comment">// Intel Core 2 Duo processor, Intel Core 2 Duo mobile</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&nbsp;               <span class="comment">// processor, Intel Core 2 Quad processor, Intel Core 2 Quad</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&nbsp;               <span class="comment">// mobile processor, Intel Core 2 Extreme processor, Intel</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&nbsp;               <span class="comment">// Pentium Dual-Core processor, Intel Xeon processor, model</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&nbsp;               <span class="comment">// 0Fh. All processors are manufactured using the 65 nm process.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&nbsp;    <span class="keywordflow">case</span> 0x16: <span class="comment">// Intel Celeron processor model 16h. All processors are</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&nbsp;               <span class="comment">// manufactured using the 65 nm process</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&nbsp;      CPU = <span class="stringliteral">"core2"</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_CORE2;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&nbsp;    <span class="keywordflow">case</span> 0x17: <span class="comment">// Intel Core 2 Extreme processor, Intel Xeon processor, model</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&nbsp;               <span class="comment">// 17h. All processors are manufactured using the 45 nm process.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&nbsp;               <span class="comment">//</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&nbsp;               <span class="comment">// 45nm: Penryn , Wolfdale, Yorkfield (XE)</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&nbsp;    <span class="keywordflow">case</span> 0x1d: <span class="comment">// Intel Xeon processor MP. All processors are manufactured using</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&nbsp;               <span class="comment">// the 45 nm process.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&nbsp;      CPU = <span class="stringliteral">"penryn"</span>;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_CORE2;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&nbsp;    <span class="keywordflow">case</span> 0x1a: <span class="comment">// Intel Core i7 processor and Intel Xeon processor. All</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&nbsp;               <span class="comment">// processors are manufactured using the 45 nm process.</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&nbsp;    <span class="keywordflow">case</span> 0x1e: <span class="comment">// Intel(R) Core(TM) i7 CPU         870  @ 2.93GHz.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&nbsp;               <span class="comment">// As found in a Summer 2010 model iMac.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&nbsp;    <span class="keywordflow">case</span> 0x1f:</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&nbsp;    <span class="keywordflow">case</span> 0x2e:              <span class="comment">// Nehalem EX</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&nbsp;      CPU = <span class="stringliteral">"nehalem"</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&nbsp;      *Subtype = X86::INTEL_COREI7_NEHALEM;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&nbsp;    <span class="keywordflow">case</span> 0x25: <span class="comment">// Intel Core i7, laptop version.</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&nbsp;    <span class="keywordflow">case</span> 0x2c: <span class="comment">// Intel Core i7 processor and Intel Xeon processor. All</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&nbsp;               <span class="comment">// processors are manufactured using the 32 nm process.</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&nbsp;    <span class="keywordflow">case</span> 0x2f: <span class="comment">// Westmere EX</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&nbsp;      CPU = <span class="stringliteral">"westmere"</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&nbsp;      *Subtype = X86::INTEL_COREI7_WESTMERE;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&nbsp;    <span class="keywordflow">case</span> 0x2a: <span class="comment">// Intel Core i7 processor. All processors are manufactured</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&nbsp;               <span class="comment">// using the 32 nm process.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&nbsp;    <span class="keywordflow">case</span> 0x2d:</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&nbsp;      CPU = <span class="stringliteral">"sandybridge"</span>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&nbsp;      *Subtype = X86::INTEL_COREI7_SANDYBRIDGE;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&nbsp;    <span class="keywordflow">case</span> 0x3a:</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&nbsp;    <span class="keywordflow">case</span> 0x3e:              <span class="comment">// Ivy Bridge EP</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&nbsp;      CPU = <span class="stringliteral">"ivybridge"</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&nbsp;      *Subtype = X86::INTEL_COREI7_IVYBRIDGE;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&nbsp; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&nbsp;    <span class="comment">// Haswell:</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&nbsp;    <span class="keywordflow">case</span> 0x3c:</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&nbsp;    <span class="keywordflow">case</span> 0x3f:</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&nbsp;    <span class="keywordflow">case</span> 0x45:</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&nbsp;    <span class="keywordflow">case</span> 0x46:</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&nbsp;      CPU = <span class="stringliteral">"haswell"</span>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&nbsp;      *Subtype = X86::INTEL_COREI7_HASWELL;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&nbsp; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&nbsp;    <span class="comment">// Broadwell:</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&nbsp;    <span class="keywordflow">case</span> 0x3d:</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&nbsp;    <span class="keywordflow">case</span> 0x47:</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&nbsp;    <span class="keywordflow">case</span> 0x4f:</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&nbsp;    <span class="keywordflow">case</span> 0x56:</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&nbsp;      CPU = <span class="stringliteral">"broadwell"</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&nbsp;      *Subtype = X86::INTEL_COREI7_BROADWELL;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&nbsp; </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&nbsp;    <span class="comment">// Skylake:</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&nbsp;    <span class="keywordflow">case</span> 0x4e:              <span class="comment">// Skylake mobile</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&nbsp;    <span class="keywordflow">case</span> 0x5e:              <span class="comment">// Skylake desktop</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&nbsp;    <span class="keywordflow">case</span> 0x8e:              <span class="comment">// Kaby Lake mobile</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&nbsp;    <span class="keywordflow">case</span> 0x9e:              <span class="comment">// Kaby Lake desktop</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&nbsp;    <span class="keywordflow">case</span> 0xa5:              <span class="comment">// Comet Lake-H/S</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&nbsp;    <span class="keywordflow">case</span> 0xa6:              <span class="comment">// Comet Lake-U</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&nbsp;      CPU = <span class="stringliteral">"skylake"</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&nbsp;      *Subtype = X86::INTEL_COREI7_SKYLAKE;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&nbsp; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&nbsp;    <span class="comment">// Rocketlake:</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&nbsp;    <span class="keywordflow">case</span> 0xa7:</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&nbsp;      CPU = <span class="stringliteral">"rocketlake"</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&nbsp;      *Subtype = X86::INTEL_COREI7_ROCKETLAKE;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&nbsp; </div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&nbsp;    <span class="comment">// Skylake Xeon:</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&nbsp;    <span class="keywordflow">case</span> 0x55:</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&nbsp;      <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512BF16)) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&nbsp;        CPU = <span class="stringliteral">"cooperlake"</span>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&nbsp;        *Subtype = X86::INTEL_COREI7_COOPERLAKE;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512VNNI)) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&nbsp;        CPU = <span class="stringliteral">"cascadelake"</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&nbsp;        *Subtype = X86::INTEL_COREI7_CASCADELAKE;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&nbsp;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&nbsp;        CPU = <span class="stringliteral">"skylake-avx512"</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&nbsp;        *Subtype = X86::INTEL_COREI7_SKYLAKE_AVX512;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&nbsp;      }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&nbsp; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&nbsp;    <span class="comment">// Cannonlake:</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&nbsp;    <span class="keywordflow">case</span> 0x66:</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&nbsp;      CPU = <span class="stringliteral">"cannonlake"</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&nbsp;      *Subtype = X86::INTEL_COREI7_CANNONLAKE;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&nbsp; </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&nbsp;    <span class="comment">// Icelake:</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&nbsp;    <span class="keywordflow">case</span> 0x7d:</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&nbsp;    <span class="keywordflow">case</span> 0x7e:</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&nbsp;      CPU = <span class="stringliteral">"icelake-client"</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&nbsp;      *Subtype = X86::INTEL_COREI7_ICELAKE_CLIENT;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&nbsp; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&nbsp;    <span class="comment">// Tigerlake:</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&nbsp;    <span class="keywordflow">case</span> 0x8c:</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&nbsp;    <span class="keywordflow">case</span> 0x8d:</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&nbsp;      CPU = <span class="stringliteral">"tigerlake"</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&nbsp;      *Subtype = X86::INTEL_COREI7_TIGERLAKE;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&nbsp; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&nbsp;    <span class="comment">// Alderlake:</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&nbsp;    <span class="keywordflow">case</span> 0x97:</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&nbsp;    <span class="keywordflow">case</span> 0x9a:</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&nbsp;      CPU = <span class="stringliteral">"alderlake"</span>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&nbsp;      *Subtype = X86::INTEL_COREI7_ALDERLAKE;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&nbsp; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&nbsp;    <span class="comment">// Icelake Xeon:</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&nbsp;    <span class="keywordflow">case</span> 0x6a:</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&nbsp;    <span class="keywordflow">case</span> 0x6c:</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&nbsp;      CPU = <span class="stringliteral">"icelake-server"</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&nbsp;      *Subtype = X86::INTEL_COREI7_ICELAKE_SERVER;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&nbsp; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&nbsp;    <span class="comment">// Sapphire Rapids:</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&nbsp;    <span class="keywordflow">case</span> 0x8f:</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&nbsp;      CPU = <span class="stringliteral">"sapphirerapids"</span>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_COREI7;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&nbsp;      *Subtype = X86::INTEL_COREI7_SAPPHIRERAPIDS;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&nbsp; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&nbsp;    <span class="keywordflow">case</span> 0x1c: <span class="comment">// Most 45 nm Intel Atom processors</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&nbsp;    <span class="keywordflow">case</span> 0x26: <span class="comment">// 45 nm Atom Lincroft</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&nbsp;    <span class="keywordflow">case</span> 0x27: <span class="comment">// 32 nm Atom Medfield</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&nbsp;    <span class="keywordflow">case</span> 0x35: <span class="comment">// 32 nm Atom Midview</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&nbsp;    <span class="keywordflow">case</span> 0x36: <span class="comment">// 32 nm Atom Midview</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&nbsp;      CPU = <span class="stringliteral">"bonnell"</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_BONNELL;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&nbsp; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&nbsp;    <span class="comment">// Atom Silvermont codes from the Intel software optimization guide.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&nbsp;    <span class="keywordflow">case</span> 0x37:</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&nbsp;    <span class="keywordflow">case</span> 0x4a:</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&nbsp;    <span class="keywordflow">case</span> 0x4d:</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&nbsp;    <span class="keywordflow">case</span> 0x5a:</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&nbsp;    <span class="keywordflow">case</span> 0x5d:</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&nbsp;    <span class="keywordflow">case</span> 0x4c: <span class="comment">// really airmont</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&nbsp;      CPU = <span class="stringliteral">"silvermont"</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_SILVERMONT;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&nbsp;    <span class="comment">// Goldmont:</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&nbsp;    <span class="keywordflow">case</span> 0x5c: <span class="comment">// Apollo Lake</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&nbsp;    <span class="keywordflow">case</span> 0x5f: <span class="comment">// Denverton</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&nbsp;      CPU = <span class="stringliteral">"goldmont"</span>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_GOLDMONT;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&nbsp;    <span class="keywordflow">case</span> 0x7a:</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&nbsp;      CPU = <span class="stringliteral">"goldmont-plus"</span>;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_GOLDMONT_PLUS;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&nbsp;    <span class="keywordflow">case</span> 0x86:</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&nbsp;      CPU = <span class="stringliteral">"tremont"</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_TREMONT;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&nbsp; </div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&nbsp;    <span class="comment">// Xeon Phi (Knights Landing + Knights Mill):</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&nbsp;    <span class="keywordflow">case</span> 0x57:</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&nbsp;      CPU = <span class="stringliteral">"knl"</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_KNL;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&nbsp;    <span class="keywordflow">case</span> 0x85:</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&nbsp;      CPU = <span class="stringliteral">"knm"</span>;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&nbsp;      *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::INTEL_KNM;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&nbsp; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&nbsp;    <span class="keywordflow">default</span>: <span class="comment">// Unknown family 6 CPU, try to guess.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&nbsp;      <span class="comment">// Don't both with Type/Subtype here, they aren't used by the caller.</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&nbsp;      <span class="comment">// They're used above to keep the code in sync with compiler-rt.</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&nbsp;      <span class="comment">// TODO detect tigerlake host from model</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&nbsp;      <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512VP2INTERSECT)) {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&nbsp;        CPU = <span class="stringliteral">"tigerlake"</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512VBMI2)) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&nbsp;        CPU = <span class="stringliteral">"icelake-client"</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512VBMI)) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&nbsp;        CPU = <span class="stringliteral">"cannonlake"</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512BF16)) {</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&nbsp;        CPU = <span class="stringliteral">"cooperlake"</span>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512VNNI)) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&nbsp;        CPU = <span class="stringliteral">"cascadelake"</span>;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512VL)) {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&nbsp;        CPU = <span class="stringliteral">"skylake-avx512"</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX512ER)) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&nbsp;        CPU = <span class="stringliteral">"knl"</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_CLFLUSHOPT)) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&nbsp;        <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SHA))</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&nbsp;          CPU = <span class="stringliteral">"goldmont"</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&nbsp;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&nbsp;          CPU = <span class="stringliteral">"skylake"</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_ADX)) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&nbsp;        CPU = <span class="stringliteral">"broadwell"</span>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX2)) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&nbsp;        CPU = <span class="stringliteral">"haswell"</span>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_AVX)) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&nbsp;        CPU = <span class="stringliteral">"sandybridge"</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE4_2)) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&nbsp;        <span class="keywordflow">if</span> (testFeature(X86::FEATURE_MOVBE))</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&nbsp;          CPU = <span class="stringliteral">"silvermont"</span>;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&nbsp;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&nbsp;          CPU = <span class="stringliteral">"nehalem"</span>;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE4_1)) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&nbsp;        CPU = <span class="stringliteral">"penryn"</span>;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSSE3)) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&nbsp;        <span class="keywordflow">if</span> (testFeature(X86::FEATURE_MOVBE))</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&nbsp;          CPU = <span class="stringliteral">"bonnell"</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&nbsp;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&nbsp;          CPU = <span class="stringliteral">"core2"</span>;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_64BIT)) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&nbsp;        CPU = <span class="stringliteral">"core2"</span>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE3)) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&nbsp;        CPU = <span class="stringliteral">"yonah"</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE2)) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&nbsp;        CPU = <span class="stringliteral">"pentium-m"</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE)) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&nbsp;        CPU = <span class="stringliteral">"pentium3"</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&nbsp;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (testFeature(X86::FEATURE_MMX)) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&nbsp;        CPU = <span class="stringliteral">"pentium2"</span>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&nbsp;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&nbsp;        CPU = <span class="stringliteral">"pentiumpro"</span>;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&nbsp;      }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&nbsp;    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&nbsp;  <span class="keywordflow">case</span> 15: {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&nbsp;    <span class="keywordflow">if</span> (testFeature(X86::FEATURE_64BIT)) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&nbsp;      CPU = <span class="stringliteral">"nocona"</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&nbsp;    }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&nbsp;    <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE3)) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&nbsp;      CPU = <span class="stringliteral">"prescott"</span>;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&nbsp;    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&nbsp;    CPU = <span class="stringliteral">"pentium4"</span>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&nbsp;  }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&nbsp;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&nbsp;    <span class="keywordflow">break</span>; <span class="comment">// Unknown.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&nbsp;  }</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&nbsp; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&nbsp;  <span class="keywordflow">return</span> CPU;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&nbsp;}</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&nbsp; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&nbsp;<span class="keyword">static</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&nbsp;getAMDProcessorTypeAndSubtype(<span class="keywordtype">unsigned</span> Family, <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>,</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&nbsp;                              <span class="keyword">const</span> <span class="keywordtype">unsigned</span> *Features,</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&nbsp;                              <span class="keywordtype">unsigned</span> *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a>, <span class="keywordtype">unsigned</span> *Subtype) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&nbsp;  <span class="keyword">auto</span> testFeature = [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&nbsp;    <span class="keywordflow">return</span> (Features[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> / 32] &amp; (1U &lt;&lt; (<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> % 32))) != 0;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&nbsp;  };</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&nbsp; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> CPU;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&nbsp; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&nbsp;  <span class="keywordflow">switch</span> (Family) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&nbsp;  <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&nbsp;    CPU = <span class="stringliteral">"i486"</span>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&nbsp;  <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&nbsp;    CPU = <span class="stringliteral">"pentium"</span>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&nbsp;    <span class="keywordflow">switch</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&nbsp;    <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&nbsp;    <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&nbsp;      CPU = <span class="stringliteral">"k6"</span>;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&nbsp;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&nbsp;      CPU = <span class="stringliteral">"k6-2"</span>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&nbsp;    <span class="keywordflow">case</span> 9:</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&nbsp;    <span class="keywordflow">case</span> 13:</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&nbsp;      CPU = <span class="stringliteral">"k6-3"</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&nbsp;    <span class="keywordflow">case</span> 10:</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&nbsp;      CPU = <span class="stringliteral">"geode"</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&nbsp;    }</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&nbsp;  <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&nbsp;    <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE)) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&nbsp;      CPU = <span class="stringliteral">"athlon-xp"</span>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&nbsp;    }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&nbsp;    CPU = <span class="stringliteral">"athlon"</span>;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&nbsp;  <span class="keywordflow">case</span> 15:</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&nbsp;    <span class="keywordflow">if</span> (testFeature(X86::FEATURE_SSE3)) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&nbsp;      CPU = <span class="stringliteral">"k8-sse3"</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&nbsp;    }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&nbsp;    CPU = <span class="stringliteral">"k8"</span>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&nbsp;  <span class="keywordflow">case</span> 16:</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&nbsp;    CPU = <span class="stringliteral">"amdfam10"</span>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&nbsp;    *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::AMDFAM10H; <span class="comment">// "amdfam10"</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&nbsp;    <span class="keywordflow">switch</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&nbsp;    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&nbsp;      *Subtype = X86::AMDFAM10H_BARCELONA;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&nbsp;    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&nbsp;      *Subtype = X86::AMDFAM10H_SHANGHAI;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&nbsp;    <span class="keywordflow">case</span> 8:</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&nbsp;      *Subtype = X86::AMDFAM10H_ISTANBUL;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&nbsp;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&nbsp;  <span class="keywordflow">case</span> 20:</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&nbsp;    CPU = <span class="stringliteral">"btver1"</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&nbsp;    *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::AMD_BTVER1;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&nbsp;  <span class="keywordflow">case</span> 21:</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&nbsp;    CPU = <span class="stringliteral">"bdver1"</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&nbsp;    *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::AMDFAM15H;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&nbsp;    <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &gt;= 0x60 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &lt;= 0x7f) {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&nbsp;      CPU = <span class="stringliteral">"bdver4"</span>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&nbsp;      *Subtype = X86::AMDFAM15H_BDVER4;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&nbsp;      <span class="keywordflow">break</span>; <span class="comment">// 60h-7Fh: Excavator</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&nbsp;    }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&nbsp;    <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &gt;= 0x30 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &lt;= 0x3f) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&nbsp;      CPU = <span class="stringliteral">"bdver3"</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&nbsp;      *Subtype = X86::AMDFAM15H_BDVER3;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&nbsp;      <span class="keywordflow">break</span>; <span class="comment">// 30h-3Fh: Steamroller</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&nbsp;    }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&nbsp;    <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &gt;= 0x10 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &lt;= 0x1f) || <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> == 0x02) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&nbsp;      CPU = <span class="stringliteral">"bdver2"</span>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&nbsp;      *Subtype = X86::AMDFAM15H_BDVER2;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&nbsp;      <span class="keywordflow">break</span>; <span class="comment">// 02h, 10h-1Fh: Piledriver</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&nbsp;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&nbsp;    <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &lt;= 0x0f) {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&nbsp;      *Subtype = X86::AMDFAM15H_BDVER1;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&nbsp;      <span class="keywordflow">break</span>; <span class="comment">// 00h-0Fh: Bulldozer</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&nbsp;    }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&nbsp;  <span class="keywordflow">case</span> 22:</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&nbsp;    CPU = <span class="stringliteral">"btver2"</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&nbsp;    *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::AMD_BTVER2;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&nbsp;  <span class="keywordflow">case</span> 23:</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&nbsp;    CPU = <span class="stringliteral">"znver1"</span>;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&nbsp;    *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::AMDFAM17H;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&nbsp;    <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &gt;= 0x30 &amp;&amp; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &lt;= 0x3f) || <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> == 0x71) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&nbsp;      CPU = <span class="stringliteral">"znver2"</span>;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&nbsp;      *Subtype = X86::AMDFAM17H_ZNVER2;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&nbsp;      <span class="keywordflow">break</span>; <span class="comment">// 30h-3fh, 71h: Zen2</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&nbsp;    }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&nbsp;    <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &lt;= 0x0f) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&nbsp;      *Subtype = X86::AMDFAM17H_ZNVER1;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&nbsp;      <span class="keywordflow">break</span>; <span class="comment">// 00h-0Fh: Zen1</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&nbsp;    }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&nbsp;  <span class="keywordflow">case</span> 25:</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&nbsp;    CPU = <span class="stringliteral">"znver3"</span>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&nbsp;    *<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = X86::AMDFAM19H;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&nbsp;    <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> &lt;= 0x0f) {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&nbsp;      *Subtype = X86::AMDFAM19H_ZNVER3;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&nbsp;      <span class="keywordflow">break</span>; <span class="comment">// 00h-0Fh: Zen3</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&nbsp;    }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&nbsp;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&nbsp;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&nbsp;    <span class="keywordflow">break</span>; <span class="comment">// Unknown AMD CPU.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&nbsp;  }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&nbsp; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&nbsp;  <span class="keywordflow">return</span> CPU;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&nbsp;}</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&nbsp; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&nbsp;<span class="keyword">static</span> <span class="keywordtype">void</span> getAvailableFeatures(<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>, <span class="keywordtype">unsigned</span> MaxLeaf,</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&nbsp;                                 <span class="keywordtype">unsigned</span> *Features) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&nbsp;  <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&nbsp; </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&nbsp;  <span class="keyword">auto</span> setFeature = [&amp;](<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&nbsp;    Features[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> / 32] |= 1U &lt;&lt; (<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> % 32);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&nbsp;  };</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&nbsp; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 15) &amp; 1)</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&nbsp;    setFeature(X86::FEATURE_CMOV);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 23) &amp; 1)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&nbsp;    setFeature(X86::FEATURE_MMX);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 25) &amp; 1)</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&nbsp;    setFeature(X86::FEATURE_SSE);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 26) &amp; 1)</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&nbsp;    setFeature(X86::FEATURE_SSE2);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&nbsp; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 0) &amp; 1)</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&nbsp;    setFeature(X86::FEATURE_SSE3);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 1) &amp; 1)</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&nbsp;    setFeature(X86::FEATURE_PCLMUL);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 9) &amp; 1)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&nbsp;    setFeature(X86::FEATURE_SSSE3);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 12) &amp; 1)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&nbsp;    setFeature(<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU.html#ab3ce256a44f1bb0818f863e4838e5cb1a9feb20f6fedce2a1f5a5b6c18f519760">X86::FEATURE_FMA</a>);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 19) &amp; 1)</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&nbsp;    setFeature(X86::FEATURE_SSE4_1);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 20) &amp; 1) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&nbsp;    setFeature(X86::FEATURE_SSE4_2);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&nbsp;    setFeature(X86::FEATURE_CRC32);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&nbsp;  }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 23) &amp; 1)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&nbsp;    setFeature(X86::FEATURE_POPCNT);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 25) &amp; 1)</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&nbsp;    setFeature(X86::FEATURE_AES);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&nbsp; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&nbsp;  <span class="keywordflow">if</span> ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 22) &amp; 1)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&nbsp;    setFeature(X86::FEATURE_MOVBE);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&nbsp; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&nbsp;  <span class="comment">// If CPUID indicates support for XSAVE, XRESTORE and AVX, and XGETBV</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&nbsp;  <span class="comment">// indicates that the AVX registers will be saved and restored on context</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&nbsp;  <span class="comment">// switch, then we have full AVX support.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&nbsp;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> AVXBits = (1 &lt;&lt; 27) | (1 &lt;&lt; 28);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&nbsp;  <span class="keywordtype">bool</span> HasAVX = ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &amp; AVXBits) == AVXBits) &amp;&amp; !getX86XCR0(&amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>) &amp;&amp;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&nbsp;                ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &amp; 0x6) == 0x6);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&nbsp;<span class="preprocessor">#if defined(__APPLE__)</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&nbsp;  <span class="comment">// Darwin lazily saves the AVX512 context on first use: trust that the OS will</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&nbsp;  <span class="comment">// save the AVX512 context if we use AVX512 instructions, even the bit is not</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&nbsp;  <span class="comment">// set right now.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&nbsp;  <span class="keywordtype">bool</span> HasAVX512Save = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&nbsp;  <span class="comment">// AVX512 requires additional context to be saved by the OS.</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&nbsp;  <span class="keywordtype">bool</span> HasAVX512Save = HasAVX &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &amp; 0xe0) == 0xe0);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&nbsp; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&nbsp;  <span class="keywordflow">if</span> (HasAVX)</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&nbsp;    setFeature(X86::FEATURE_AVX);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&nbsp; </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&nbsp;  <span class="keywordtype">bool</span> HasLeaf7 =</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&nbsp;      MaxLeaf &gt;= 0x7 &amp;&amp; !getX86CpuIDAndInfoEx(0x7, 0x0, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&nbsp; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 3) &amp; 1))</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&nbsp;    setFeature(X86::FEATURE_BMI);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 5) &amp; 1) &amp;&amp; HasAVX)</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&nbsp;    setFeature(X86::FEATURE_AVX2);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 8) &amp; 1))</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&nbsp;    setFeature(X86::FEATURE_BMI2);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 16) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&nbsp;    setFeature(X86::FEATURE_AVX512F);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 17) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&nbsp;    setFeature(X86::FEATURE_AVX512DQ);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 19) &amp; 1))</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&nbsp;    setFeature(X86::FEATURE_ADX);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 21) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&nbsp;    setFeature(X86::FEATURE_AVX512IFMA);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 23) &amp; 1))</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&nbsp;    setFeature(X86::FEATURE_CLFLUSHOPT);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 26) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&nbsp;    setFeature(X86::FEATURE_AVX512PF);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 27) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&nbsp;    setFeature(X86::FEATURE_AVX512ER);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 28) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&nbsp;    setFeature(X86::FEATURE_AVX512CD);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 29) &amp; 1))</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&nbsp;    setFeature(X86::FEATURE_SHA);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 30) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&nbsp;    setFeature(X86::FEATURE_AVX512BW);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 31) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&nbsp;    setFeature(X86::FEATURE_AVX512VL);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&nbsp; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 1) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&nbsp;    setFeature(X86::FEATURE_AVX512VBMI);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 6) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&nbsp;    setFeature(X86::FEATURE_AVX512VBMI2);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 8) &amp; 1))</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&nbsp;    setFeature(X86::FEATURE_GFNI);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 10) &amp; 1) &amp;&amp; HasAVX)</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&nbsp;    setFeature(X86::FEATURE_VPCLMULQDQ);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 11) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&nbsp;    setFeature(X86::FEATURE_AVX512VNNI);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 12) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&nbsp;    setFeature(X86::FEATURE_AVX512BITALG);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 14) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&nbsp;    setFeature(X86::FEATURE_AVX512VPOPCNTDQ);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&nbsp; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 2) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&nbsp;    setFeature(X86::FEATURE_AVX5124VNNIW);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 3) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&nbsp;    setFeature(X86::FEATURE_AVX5124FMAPS);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 8) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&nbsp;    setFeature(X86::FEATURE_AVX512VP2INTERSECT);</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&nbsp; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&nbsp;  <span class="keywordtype">bool</span> HasLeaf7Subleaf1 =</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&nbsp;      MaxLeaf &gt;= 7 &amp;&amp; !getX86CpuIDAndInfoEx(0x7, 0x1, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&nbsp;  <span class="keywordflow">if</span> (HasLeaf7Subleaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 5) &amp; 1) &amp;&amp; HasAVX512Save)</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&nbsp;    setFeature(X86::FEATURE_AVX512BF16);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&nbsp; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&nbsp;  <span class="keywordtype">unsigned</span> MaxExtLevel;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&nbsp;  getX86CpuIDAndInfo(0x80000000, &amp;MaxExtLevel, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&nbsp; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&nbsp;  <span class="keywordtype">bool</span> HasExtLeaf1 = MaxExtLevel &gt;= 0x80000001 &amp;&amp;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&nbsp;                     !getX86CpuIDAndInfo(0x80000001, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&nbsp;  <span class="keywordflow">if</span> (HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 6) &amp; 1))</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&nbsp;    setFeature(X86::FEATURE_SSE4_A);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&nbsp;  <span class="keywordflow">if</span> (HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 11) &amp; 1))</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&nbsp;    setFeature(X86::FEATURE_XOP);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&nbsp;  <span class="keywordflow">if</span> (HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 16) &amp; 1))</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&nbsp;    setFeature(X86::FEATURE_FMA4);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&nbsp; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&nbsp;  <span class="keywordflow">if</span> (HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 29) &amp; 1))</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&nbsp;    setFeature(X86::FEATURE_64BIT);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&nbsp;}</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&nbsp; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&nbsp;  <span class="keywordtype">unsigned</span> MaxLeaf = 0;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&nbsp;  <span class="keyword">const</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466">VendorSignatures</a> Vendor = <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#af6098093bce999858442cd6a17a299e9">getVendorSignature</a>(&amp;MaxLeaf);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&nbsp;  <span class="keywordflow">if</span> (Vendor == <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466a696b031073e74bf2cb98e5ef201d4aa3">VendorSignatures::UNKNOWN</a>)</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&nbsp; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&nbsp;  <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> = 0;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&nbsp;  getX86CpuIDAndInfo(0x1, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&nbsp; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&nbsp;  <span class="keywordtype">unsigned</span> Family = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a> = 0;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&nbsp;  <span class="keywordtype">unsigned</span> Features[(<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1X86.html#abd1f712df4639ee306f3295384cb9a49ae2889a8b028db56ebebbeffd03557952">X86::CPU_FEATURE_MAX</a> + 31) / 32] = {0};</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&nbsp;  detectX86FamilyModel(<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;Family, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&nbsp;  getAvailableFeatures(<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>, MaxLeaf, Features);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&nbsp; </div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&nbsp;  <span class="comment">// These aren't consumed in this file, but we try to keep some source code the</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&nbsp;  <span class="comment">// same or similar to compiler-rt.</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&nbsp;  <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> = 0;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&nbsp;  <span class="keywordtype">unsigned</span> Subtype = 0;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&nbsp; </div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> CPU;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&nbsp; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&nbsp;  <span class="keywordflow">if</span> (Vendor == <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466ac21b5352fdce8cbfdfab24a7f138d091">VendorSignatures::GENUINE_INTEL</a>) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&nbsp;    CPU = getIntelProcessorTypeAndSubtype(Family, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>, Features, &amp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a>,</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&nbsp;                                          &amp;Subtype);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&nbsp;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Vendor == <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466a2c333fca249d8d869bd42d141c055ab2">VendorSignatures::AUTHENTIC_AMD</a>) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&nbsp;    CPU = getAMDProcessorTypeAndSubtype(Family, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">Model</a>, Features, &amp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a>,</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&nbsp;                                        &amp;Subtype);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&nbsp;  }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&nbsp; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&nbsp;  <span class="keywordflow">if</span> (!CPU.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a7db561f0b6b9afd18000bc4503717ead">empty</a>())</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&nbsp;    <span class="keywordflow">return</span> CPU;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&nbsp; </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&nbsp;}</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&nbsp; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&nbsp;<span class="preprocessor">#elif defined(__APPLE__) &amp;&amp; (defined(__ppc__) || defined(__powerpc__))</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&nbsp;  host_basic_info_data_t hostInfo;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&nbsp;  mach_msg_type_number_t infoCount;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&nbsp; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&nbsp;  infoCount = HOST_BASIC_INFO_COUNT;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&nbsp;  mach_port_t hostPort = mach_host_self();</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&nbsp;  host_info(hostPort, HOST_BASIC_INFO, (host_info_t)&amp;hostInfo,</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&nbsp;            &amp;infoCount);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&nbsp;  mach_port_deallocate(mach_task_self(), hostPort);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&nbsp; </div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&nbsp;  <span class="keywordflow">if</span> (hostInfo.cpu_type != <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a630a338da04bb807aac2b41f8fe4e6e7">CPU_TYPE_POWERPC</a>)</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&nbsp; </div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&nbsp;  <span class="keywordflow">switch</span> (hostInfo.cpu_subtype) {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129aaaef32e172e3243cdfcd63f032dfa9da">CPU_SUBTYPE_POWERPC_601</a>:</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"601"</span>;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129afef657818144a200a098495cc390bced">CPU_SUBTYPE_POWERPC_602</a>:</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"602"</span>;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129ad18c96cd3fd77609af73928e0f81cb25">CPU_SUBTYPE_POWERPC_603</a>:</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"603"</span>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a4cb8180b43933da85d3498899ede58af">CPU_SUBTYPE_POWERPC_603e</a>:</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"603e"</span>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129ab42dc62dffc028aa9b9e5a3fcb13e48b">CPU_SUBTYPE_POWERPC_603ev</a>:</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"603ev"</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a7beb081d001dc6f044f27861a4c65bc4">CPU_SUBTYPE_POWERPC_604</a>:</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"604"</span>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a1c9c93ae9f4478d76ba081dd3861b765">CPU_SUBTYPE_POWERPC_604e</a>:</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"604e"</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129aac0e0f20cd3e2524c38af7454626fbad">CPU_SUBTYPE_POWERPC_620</a>:</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"620"</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a98d21d168065e19caf239587d5c8aa2e">CPU_SUBTYPE_POWERPC_750</a>:</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"750"</span>;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a4fa58cc86b4f2804ca49b73ba1136e6e">CPU_SUBTYPE_POWERPC_7400</a>:</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"7400"</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129af566f5e040ae941bbbd6c8f80b8862b6">CPU_SUBTYPE_POWERPC_7450</a>:</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"7450"</span>;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&nbsp;  <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a1bff2fcca53f87f7b7520b321ff6a30b">CPU_SUBTYPE_POWERPC_970</a>:</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"970"</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&nbsp;  <span class="keywordflow">default</span>:;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&nbsp;  }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&nbsp; </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&nbsp;}</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&nbsp;<span class="preprocessor">#elif defined(__linux__) &amp;&amp; (defined(__ppc__) || defined(__powerpc__))</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&nbsp;  std::unique_ptr&lt;llvm::MemoryBuffer&gt; <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#a50624670d50701a757b4556144b23665">getProcCpuinfoContent</a>();</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/ELFObjHandler_8cpp.html#a2efbb6ab897d288e9ebee26ea12fa666">Content</a> = <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> ? <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getBuffer() : <span class="stringliteral">""</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a506b97a4c93510ccce514cef204be19d">detail::getHostCPUNameForPowerPC</a>(<a class="code" href="https://llvm.org/doxygen/ELFObjHandler_8cpp.html#a2efbb6ab897d288e9ebee26ea12fa666">Content</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&nbsp;}</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&nbsp;<span class="preprocessor">#elif defined(__linux__) &amp;&amp; (defined(__arm__) || defined(__aarch64__))</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&nbsp;  std::unique_ptr&lt;llvm::MemoryBuffer&gt; <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#a50624670d50701a757b4556144b23665">getProcCpuinfoContent</a>();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/ELFObjHandler_8cpp.html#a2efbb6ab897d288e9ebee26ea12fa666">Content</a> = <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> ? <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getBuffer() : <span class="stringliteral">""</span>;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a5cd7a516996539c18628e51d9f628e07">detail::getHostCPUNameForARM</a>(<a class="code" href="https://llvm.org/doxygen/ELFObjHandler_8cpp.html#a2efbb6ab897d288e9ebee26ea12fa666">Content</a>);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&nbsp;}</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&nbsp;<span class="preprocessor">#elif defined(__linux__) &amp;&amp; defined(__s390x__)</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&nbsp;  std::unique_ptr&lt;llvm::MemoryBuffer&gt; <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#a50624670d50701a757b4556144b23665">getProcCpuinfoContent</a>();</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/ELFObjHandler_8cpp.html#a2efbb6ab897d288e9ebee26ea12fa666">Content</a> = <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> ? <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getBuffer() : <span class="stringliteral">""</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a3455f56c4a28156282d4f5cd6265e034">detail::getHostCPUNameForS390x</a>(<a class="code" href="https://llvm.org/doxygen/ELFObjHandler_8cpp.html#a2efbb6ab897d288e9ebee26ea12fa666">Content</a>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&nbsp;}</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&nbsp;<span class="preprocessor">#elif defined(__MVS__)</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&nbsp;  <span class="comment">// Get pointer to Communications Vector Table (CVT).</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&nbsp;  <span class="comment">// The pointer is located at offset 16 of the Prefixed Save Area (PSA).</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&nbsp;  <span class="comment">// It is stored as 31 bit pointer and will be zero-extended to 64 bit.</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&nbsp;  <span class="keywordtype">int</span> *StartToCVTOffset = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span> *<span class="keyword">&gt;</span>(0x10);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&nbsp;  <span class="comment">// Since its stored as a 31-bit pointer, get the 4 bytes from the start</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&nbsp;  <span class="comment">// of address.</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&nbsp;  <span class="keywordtype">int</span> ReadValue = *StartToCVTOffset;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&nbsp;  <span class="comment">// Explicitly clear the high order bit.</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&nbsp;  ReadValue = (ReadValue &amp; 0x7FFFFFFF);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&nbsp;  <span class="keywordtype">char</span> *CVT = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(ReadValue);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&nbsp;  <span class="comment">// The model number is located in the CVT prefix at offset -6 and stored as</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&nbsp;  <span class="comment">// signless packed decimal.</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classuint16__t.html">uint16_t</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a> = *(<a class="code" href="https://llvm.org/doxygen/classuint16__t.html">uint16_t</a> *)&amp;CVT[-6];</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&nbsp;  <span class="comment">// Convert number to integer.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a> = decodePackedBCD&lt;uint16_t&gt;(<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&nbsp;  <span class="comment">// Check for vector support. It's stored in field CVTFLAG5 (offset 244),</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&nbsp;  <span class="comment">// bit CVTVEF (X'80'). The facilities list is part of the PSA but the vector</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&nbsp;  <span class="comment">// extension can only be used if bit CVTVEF is on.</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&nbsp;  <span class="keywordtype">bool</span> HaveVectorSupport = CVT[244] &amp; 0x80;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&nbsp;  <span class="keywordflow">return</span> getCPUNameFromS390Model(<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">Id</a>, HaveVectorSupport);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&nbsp;}</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&nbsp;<span class="preprocessor">#elif defined(__APPLE__) &amp;&amp; defined(__aarch64__)</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"cyclone"</span>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&nbsp;}</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&nbsp;<span class="preprocessor">#elif defined(__APPLE__) &amp;&amp; defined(__arm__)</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&nbsp;  host_basic_info_data_t hostInfo;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&nbsp;  mach_msg_type_number_t infoCount;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&nbsp; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&nbsp;  infoCount = HOST_BASIC_INFO_COUNT;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&nbsp;  mach_port_t hostPort = mach_host_self();</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&nbsp;  host_info(hostPort, HOST_BASIC_INFO, (host_info_t)&amp;hostInfo,</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&nbsp;            &amp;infoCount);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&nbsp;  mach_port_deallocate(mach_task_self(), hostPort);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&nbsp; </div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&nbsp;  <span class="keywordflow">if</span> (hostInfo.cpu_type != <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47ae4da455e762f086662789406e1f085e0">CPU_TYPE_ARM</a>) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">"CPUType not equal to ARM should not be possible on ARM"</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&nbsp;  }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&nbsp;  <span class="keywordflow">switch</span> (hostInfo.cpu_subtype) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&nbsp;    <span class="keywordflow">case</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#ac0a77607de60a6a00b7a3ff4fc7de35daf84be5758df808a4722cde3519645725">CPU_SUBTYPE_ARM_V7S</a>:</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"swift"</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&nbsp;    <span class="keywordflow">default</span>:;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&nbsp;    }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&nbsp; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&nbsp;}</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&nbsp;<span class="preprocessor">#elif defined(_AIX)</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&nbsp;  <span class="keywordflow">switch</span> (_system_configuration.implementation) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&nbsp;  <span class="keywordflow">case</span> POWER_4:</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&nbsp;    <span class="keywordflow">if</span> (_system_configuration.version == PV_4_3)</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"970"</span>;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"pwr4"</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&nbsp;  <span class="keywordflow">case</span> POWER_5:</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&nbsp;    <span class="keywordflow">if</span> (_system_configuration.version == PV_5)</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"pwr5"</span>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"pwr5x"</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&nbsp;  <span class="keywordflow">case</span> POWER_6:</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&nbsp;    <span class="keywordflow">if</span> (_system_configuration.version == PV_6_Compat)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&nbsp;      <span class="keywordflow">return</span> <span class="stringliteral">"pwr6"</span>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"pwr6x"</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&nbsp;  <span class="keywordflow">case</span> POWER_7:</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"pwr7"</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&nbsp;  <span class="keywordflow">case</span> POWER_8:</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"pwr8"</span>;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&nbsp;  <span class="keywordflow">case</span> POWER_9:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"pwr9"</span>;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&nbsp;<span class="comment">// TODO: simplify this once the macro is available in all OS levels.</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&nbsp;<span class="preprocessor">#ifdef POWER_10</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&nbsp;  <span class="keywordflow">case</span> POWER_10:</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&nbsp;  <span class="keywordflow">case</span> 0x40000:</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"pwr10"</span>;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&nbsp;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&nbsp;    <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&nbsp;  }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&nbsp;}</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&nbsp;<span class="preprocessor">#elif defined(__riscv)</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&nbsp;<span class="preprocessor">#if __riscv_xlen == 64</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic-rv64"</span>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&nbsp;<span class="preprocessor">#elif __riscv_xlen == 32</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&nbsp;  <span class="keywordflow">return</span> <span class="stringliteral">"generic-rv32"</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&nbsp;<span class="preprocessor">#error "Unhandled value of __riscv_xlen"</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&nbsp;}</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06"> 1372</a></span>&nbsp;<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">sys::getHostCPUName</a>() { <span class="keywordflow">return</span> <span class="stringliteral">"generic"</span>; }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&nbsp;<span class="keyword">namespace </span><a class="code" href="https://llvm.org/doxygen/namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&nbsp;<span class="keyword">namespace </span>sys {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&nbsp;<span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&nbsp;<span class="keyword">namespace </span><a class="code" href="https://llvm.org/doxygen/lib_2Target_2README_8txt.html#a2352e45658fc7292aa209a94baa095e9">x86</a> {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&nbsp; </div>
<div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#af6098093bce999858442cd6a17a299e9"> 1378</a></span>&nbsp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466">VendorSignatures</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#af6098093bce999858442cd6a17a299e9">getVendorSignature</a>(<span class="keywordtype">unsigned</span> *MaxLeaf) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466a696b031073e74bf2cb98e5ef201d4aa3">VendorSignatures::UNKNOWN</a>;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&nbsp;}</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&nbsp; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&nbsp;} <span class="comment">// namespace x86</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&nbsp;} <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&nbsp;} <span class="comment">// namespace sys</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&nbsp;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&nbsp; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&nbsp;<span class="preprocessor">#if defined(__linux__) &amp;&amp; (defined(__i386__) || defined(__x86_64__))</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&nbsp;<span class="comment">// On Linux, the number of physical cores can be computed from /proc/cpuinfo,</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&nbsp;<span class="comment">// using the number of unique physical/core id pairs. The following</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&nbsp;<span class="comment">// implementation reads the /proc/cpuinfo format on an x86_64 system.</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&nbsp;<span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>() {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&nbsp;  <span class="comment">// Enabled represents the number of physical id/core id pairs with at least</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&nbsp;  <span class="comment">// one processor id enabled by the CPU affinity mask.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&nbsp;  cpu_set_t Affinity, <a class="code" href="https://llvm.org/doxygen/Statistic_8cpp.html#a558f5c44426d0eb7abb82a65e8892d9a">Enabled</a>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&nbsp;  <span class="keywordflow">if</span> (sched_getaffinity(0, <span class="keyword">sizeof</span>(Affinity), &amp;Affinity) != 0)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&nbsp;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&nbsp;  CPU_ZERO(&amp;<a class="code" href="https://llvm.org/doxygen/Statistic_8cpp.html#a558f5c44426d0eb7abb82a65e8892d9a">Enabled</a>);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&nbsp; </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&nbsp;  <span class="comment">// Read /proc/cpuinfo as a stream (until EOF reached). It cannot be</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&nbsp;  <span class="comment">// mmapped because it appears to have 0 size.</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1ErrorOr.html">llvm::ErrorOr&lt;std::unique_ptr&lt;llvm::MemoryBuffer&gt;</a>&gt; Text =</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&nbsp;      <a class="code" href="https://llvm.org/doxygen/classllvm_1_1MemoryBuffer.html#a76b193577aa67b1fac72cdbb5343241a">llvm::MemoryBuffer::getFileAsStream</a>(<span class="stringliteral">"/proc/cpuinfo"</span>);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&nbsp;  <span class="keywordflow">if</span> (std::error_code EC = Text.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1ErrorOr.html#a8300c72908f1845c931951ed4b2a2375">getError</a>()) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a>() &lt;&lt; <span class="stringliteral">"Can't read "</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&nbsp;                 &lt;&lt; <span class="stringliteral">"/proc/cpuinfo: "</span> &lt;&lt; <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">EC</a>.message() &lt;&lt; <span class="stringliteral">"\n"</span>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&nbsp;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&nbsp;  }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 8&gt;</a> strs;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&nbsp;  (*Text)-&gt;getBuffer().split(strs, <span class="stringliteral">"\n"</span>, <span class="comment">/*MaxSplit=*/</span>-1,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&nbsp;                             <span class="comment">/*KeepEmpty=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&nbsp;  <span class="keywordtype">int</span> CurProcessor = -1;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&nbsp;  <span class="keywordtype">int</span> CurPhysicalId = -1;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&nbsp;  <span class="keywordtype">int</span> CurSiblings = -1;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&nbsp;  <span class="keywordtype">int</span> CurCoreId = -1;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&nbsp;  <span class="keywordflow">for</span> (<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> Line : strs) {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&nbsp;    std::pair&lt;StringRef, StringRef&gt; <a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> = Line.split(<span class="charliteral">':'</span>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&nbsp;    <span class="keyword">auto</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.first.trim();</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&nbsp;    <span class="keyword">auto</span> Val = <a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.second.trim();</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&nbsp;    <span class="comment">// These fields are available if the kernel is configured with CONFIG_SMP.</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&nbsp;    <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">"processor"</span>)</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&nbsp;      Val.getAsInteger(10, CurProcessor);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&nbsp;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">"physical id"</span>)</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&nbsp;      Val.getAsInteger(10, CurPhysicalId);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&nbsp;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">"siblings"</span>)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&nbsp;      Val.getAsInteger(10, CurSiblings);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&nbsp;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> == <span class="stringliteral">"core id"</span>) {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&nbsp;      Val.getAsInteger(10, CurCoreId);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&nbsp;      <span class="comment">// The processor id corresponds to an index into cpu_set_t.</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&nbsp;      <span class="keywordflow">if</span> (CPU_ISSET(CurProcessor, &amp;Affinity))</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&nbsp;        CPU_SET(CurPhysicalId * CurSiblings + CurCoreId, &amp;<a class="code" href="https://llvm.org/doxygen/Statistic_8cpp.html#a558f5c44426d0eb7abb82a65e8892d9a">Enabled</a>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&nbsp;    }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&nbsp;  }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&nbsp;  <span class="keywordflow">return</span> CPU_COUNT(&amp;<a class="code" href="https://llvm.org/doxygen/Statistic_8cpp.html#a558f5c44426d0eb7abb82a65e8892d9a">Enabled</a>);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&nbsp;}</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&nbsp;<span class="preprocessor">#elif defined(__linux__) &amp;&amp; defined(__powerpc__)</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&nbsp;<span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>() {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&nbsp;  cpu_set_t Affinity;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&nbsp;  <span class="keywordflow">if</span> (sched_getaffinity(0, <span class="keyword">sizeof</span>(Affinity), &amp;Affinity) == 0)</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&nbsp;    <span class="keywordflow">return</span> CPU_COUNT(&amp;Affinity);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&nbsp; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&nbsp;  <span class="comment">// The call to sched_getaffinity() may have failed because the Affinity</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&nbsp;  <span class="comment">// mask is too small for the number of CPU's on the system (i.e. the</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&nbsp;  <span class="comment">// system has more than 1024 CPUs). Allocate a mask large enough for</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&nbsp;  <span class="comment">// twice as many CPUs.</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&nbsp;  cpu_set_t *DynAffinity;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&nbsp;  DynAffinity = CPU_ALLOC(2048);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&nbsp;  <span class="keywordflow">if</span> (sched_getaffinity(0, CPU_ALLOC_SIZE(2048), DynAffinity) == 0) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&nbsp;    <span class="keywordtype">int</span> NumCPUs = CPU_COUNT(DynAffinity);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&nbsp;    CPU_FREE(DynAffinity);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&nbsp;    <span class="keywordflow">return</span> NumCPUs;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&nbsp;  }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&nbsp;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&nbsp;}</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&nbsp;<span class="preprocessor">#elif defined(__linux__) &amp;&amp; defined(__s390x__)</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&nbsp;<span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>() { <span class="keywordflow">return</span> sysconf(_SC_NPROCESSORS_ONLN); }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&nbsp;<span class="preprocessor">#elif defined(__APPLE__)</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&nbsp;<span class="preprocessor">#include &lt;sys/param.h&gt;</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&nbsp;<span class="preprocessor">#include &lt;sys/sysctl.h&gt;</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&nbsp; </div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&nbsp;<span class="comment">// Gets the number of *physical cores* on the machine.</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&nbsp;<span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>() {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> <a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&nbsp;  <span class="keywordtype">size_t</span> len = <span class="keyword">sizeof</span>(<a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&nbsp;  sysctlbyname(<span class="stringliteral">"hw.physicalcpu"</span>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>, &amp;len, NULL, 0);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&nbsp;  <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a> &lt; 1) {</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&nbsp;    <span class="keywordtype">int</span> nm[2];</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&nbsp;    nm[0] = CTL_HW;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&nbsp;    nm[1] = HW_AVAILCPU;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&nbsp;    sysctl(nm, 2, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>, &amp;len, NULL, 0);</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&nbsp;    <span class="keywordflow">if</span> (<a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a> &lt; 1)</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&nbsp;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&nbsp;  }</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&nbsp;  <span class="keywordflow">return</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">count</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&nbsp;}</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&nbsp;<span class="preprocessor">#elif defined(__MVS__)</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&nbsp;<span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>() {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&nbsp;  <span class="keyword">enum</span> {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&nbsp;    <span class="comment">// Byte offset of the pointer to the Communications Vector Table (CVT) in</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&nbsp;    <span class="comment">// the Prefixed Save Area (PSA). The table entry is a 31-bit pointer and</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&nbsp;    <span class="comment">// will be zero-extended to uintptr_t.</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&nbsp;    FLCCVT = 16,</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&nbsp;    <span class="comment">// Byte offset of the pointer to the Common System Data Area (CSD) in the</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&nbsp;    <span class="comment">// CVT. The table entry is a 31-bit pointer and will be zero-extended to</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&nbsp;    <span class="comment">// uintptr_t.</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&nbsp;    CVTCSD = 660,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&nbsp;    <span class="comment">// Byte offset to the number of live CPs in the LPAR, stored as a signed</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&nbsp;    <span class="comment">// 32-bit value in the table.</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&nbsp;    CSD_NUMBER_ONLINE_STANDARD_CPS = 264,</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&nbsp;  };</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&nbsp;  <span class="keywordtype">char</span> *PSA = 0;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&nbsp;  <span class="keywordtype">char</span> *CVT = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&nbsp;      <span class="keyword">static_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;<span class="keyword">&gt;</span>(PSA[FLCCVT])));</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&nbsp;  <span class="keywordtype">char</span> *CSD = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&nbsp;      <span class="keyword">static_cast&lt;</span>uintptr_t<span class="keyword">&gt;</span>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;<span class="keyword">&gt;</span>(CVT[CVTCSD])));</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span> &amp;<span class="keyword">&gt;</span>(CSD[CSD_NUMBER_ONLINE_STANDARD_CPS]);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&nbsp;}</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&nbsp;<span class="preprocessor">#elif defined(_WIN32) &amp;&amp; LLVM_ENABLE_THREADS != 0</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&nbsp;<span class="comment">// Defined in llvm/lib/Support/Windows/Threading.inc</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&nbsp;<span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>();</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&nbsp;<span class="comment">// On other systems, return -1 to indicate unknown.</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2"> 1503</a></span>&nbsp;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>() { <span class="keywordflow">return</span> -1; }</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&nbsp; </div>
<div class="line"><a name="l01506"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a111959c7103e2c6a71a25ed2db279944"> 1506</a></span>&nbsp;<span class="keywordtype">int</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a111959c7103e2c6a71a25ed2db279944">sys::getHostNumPhysicalCores</a>() {</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&nbsp;  <span class="keyword">static</span> <span class="keywordtype">int</span> NumCores = <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a>();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&nbsp;  <span class="keywordflow">return</span> NumCores;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&nbsp;}</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&nbsp; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&nbsp;<span class="preprocessor">#if defined(__i386__) || defined(_M_IX86) || \</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&nbsp;<span class="preprocessor">    defined(__x86_64__) || defined(_M_X64)</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&nbsp;<span class="keywordtype">bool</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a768d54e5ada846d513f72d9e43e89ef6">sys::getHostCPUFeatures</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringMap.html">StringMap&lt;bool&gt;</a> &amp;Features) {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&nbsp;  <span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> = 0, <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> = 0;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&nbsp;  <span class="keywordtype">unsigned</span> MaxLevel;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&nbsp; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&nbsp;  <span class="keywordflow">if</span> (getX86CpuIDAndInfo(0, &amp;MaxLevel, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>) || MaxLevel &lt; 1)</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&nbsp;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&nbsp; </div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&nbsp;  getX86CpuIDAndInfo(1, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&nbsp; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&nbsp;  Features[<span class="stringliteral">"cx8"</span>]    = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt;  8) &amp; 1;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&nbsp;  Features[<span class="stringliteral">"cmov"</span>]   = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 15) &amp; 1;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&nbsp;  Features[<span class="stringliteral">"mmx"</span>]    = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 23) &amp; 1;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&nbsp;  Features[<span class="stringliteral">"fxsr"</span>]   = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 24) &amp; 1;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&nbsp;  Features[<span class="stringliteral">"sse"</span>]    = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 25) &amp; 1;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&nbsp;  Features[<span class="stringliteral">"sse2"</span>]   = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 26) &amp; 1;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&nbsp; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&nbsp;  Features[<span class="stringliteral">"sse3"</span>]   = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  0) &amp; 1;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&nbsp;  Features[<span class="stringliteral">"pclmul"</span>] = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  1) &amp; 1;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&nbsp;  Features[<span class="stringliteral">"ssse3"</span>]  = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  9) &amp; 1;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&nbsp;  Features[<span class="stringliteral">"cx16"</span>]   = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 13) &amp; 1;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&nbsp;  Features[<span class="stringliteral">"sse4.1"</span>] = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 19) &amp; 1;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&nbsp;  Features[<span class="stringliteral">"sse4.2"</span>] = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 20) &amp; 1;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&nbsp;  Features[<span class="stringliteral">"crc32"</span>]  = Features[<span class="stringliteral">"sse4.2"</span>];</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&nbsp;  Features[<span class="stringliteral">"movbe"</span>]  = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 22) &amp; 1;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&nbsp;  Features[<span class="stringliteral">"popcnt"</span>] = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 23) &amp; 1;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&nbsp;  Features[<span class="stringliteral">"aes"</span>]    = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 25) &amp; 1;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&nbsp;  Features[<span class="stringliteral">"rdrnd"</span>]  = (<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 30) &amp; 1;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&nbsp; </div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&nbsp;  <span class="comment">// If CPUID indicates support for XSAVE, XRESTORE and AVX, and XGETBV</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&nbsp;  <span class="comment">// indicates that the AVX registers will be saved and restored on context</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&nbsp;  <span class="comment">// switch, then we have full AVX support.</span></div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&nbsp;  <span class="keywordtype">bool</span> HasXSave = ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 27) &amp; 1) &amp;&amp; !getX86XCR0(&amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&nbsp;  <span class="keywordtype">bool</span> HasAVXSave = HasXSave &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 28) &amp; 1) &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &amp; 0x6) == 0x6);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&nbsp;<span class="preprocessor">#if defined(__APPLE__)</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&nbsp;  <span class="comment">// Darwin lazily saves the AVX512 context on first use: trust that the OS will</span></div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&nbsp;  <span class="comment">// save the AVX512 context if we use AVX512 instructions, even the bit is not</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&nbsp;  <span class="comment">// set right now.</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&nbsp;  <span class="keywordtype">bool</span> HasAVX512Save = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&nbsp;  <span class="comment">// AVX512 requires additional context to be saved by the OS.</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&nbsp;  <span class="keywordtype">bool</span> HasAVX512Save = HasAVXSave &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &amp; 0xe0) == 0xe0);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&nbsp;  <span class="comment">// AMX requires additional context to be saved by the OS.</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&nbsp;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> AMXBits = (1 &lt;&lt; 17) | (1 &lt;&lt; 18);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&nbsp;  <span class="keywordtype">bool</span> HasAMXSave = HasXSave &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &amp; AMXBits) == AMXBits);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&nbsp; </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&nbsp;  Features[<span class="stringliteral">"avx"</span>]   = HasAVXSave;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&nbsp;  Features[<span class="stringliteral">"fma"</span>]   = ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 12) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&nbsp;  <span class="comment">// Only enable XSAVE if OS has enabled support for saving YMM state.</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&nbsp;  Features[<span class="stringliteral">"xsave"</span>] = ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 26) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&nbsp;  Features[<span class="stringliteral">"f16c"</span>]  = ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 29) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&nbsp; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&nbsp;  <span class="keywordtype">unsigned</span> MaxExtLevel;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&nbsp;  getX86CpuIDAndInfo(0x80000000, &amp;MaxExtLevel, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&nbsp; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&nbsp;  <span class="keywordtype">bool</span> HasExtLeaf1 = MaxExtLevel &gt;= 0x80000001 &amp;&amp;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&nbsp;                     !getX86CpuIDAndInfo(0x80000001, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&nbsp;  Features[<span class="stringliteral">"sahf"</span>]   = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  0) &amp; 1);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&nbsp;  Features[<span class="stringliteral">"lzcnt"</span>]  = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  5) &amp; 1);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&nbsp;  Features[<span class="stringliteral">"sse4a"</span>]  = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  6) &amp; 1);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&nbsp;  Features[<span class="stringliteral">"prfchw"</span>] = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  8) &amp; 1);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&nbsp;  Features[<span class="stringliteral">"xop"</span>]    = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 11) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&nbsp;  Features[<span class="stringliteral">"lwp"</span>]    = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 15) &amp; 1);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&nbsp;  Features[<span class="stringliteral">"fma4"</span>]   = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 16) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&nbsp;  Features[<span class="stringliteral">"tbm"</span>]    = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 21) &amp; 1);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&nbsp;  Features[<span class="stringliteral">"mwaitx"</span>] = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 29) &amp; 1);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&nbsp; </div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&nbsp;  Features[<span class="stringliteral">"64bit"</span>]  = HasExtLeaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 29) &amp; 1);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&nbsp; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&nbsp;  <span class="comment">// Miscellaneous memory related features, detected by</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&nbsp;  <span class="comment">// using the 0x80000008 leaf of the CPUID instruction</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&nbsp;  <span class="keywordtype">bool</span> HasExtLeaf8 = MaxExtLevel &gt;= 0x80000008 &amp;&amp;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&nbsp;                     !getX86CpuIDAndInfo(0x80000008, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&nbsp;  Features[<span class="stringliteral">"clzero"</span>]   = HasExtLeaf8 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 0) &amp; 1);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&nbsp;  Features[<span class="stringliteral">"wbnoinvd"</span>] = HasExtLeaf8 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 9) &amp; 1);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&nbsp; </div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&nbsp;  <span class="keywordtype">bool</span> HasLeaf7 =</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&nbsp;      MaxLevel &gt;= 7 &amp;&amp; !getX86CpuIDAndInfoEx(0x7, 0x0, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&nbsp; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&nbsp;  Features[<span class="stringliteral">"fsgsbase"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt;  0) &amp; 1);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&nbsp;  Features[<span class="stringliteral">"sgx"</span>]        = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt;  2) &amp; 1);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&nbsp;  Features[<span class="stringliteral">"bmi"</span>]        = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt;  3) &amp; 1);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&nbsp;  <span class="comment">// AVX2 is only supported if we have the OS save support from AVX.</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&nbsp;  Features[<span class="stringliteral">"avx2"</span>]       = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt;  5) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&nbsp;  Features[<span class="stringliteral">"bmi2"</span>]       = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt;  8) &amp; 1);</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&nbsp;  Features[<span class="stringliteral">"invpcid"</span>]    = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 10) &amp; 1);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&nbsp;  Features[<span class="stringliteral">"rtm"</span>]        = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 11) &amp; 1);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&nbsp;  <span class="comment">// AVX512 is only supported if the OS supports the context save for it.</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&nbsp;  Features[<span class="stringliteral">"avx512f"</span>]    = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 16) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&nbsp;  Features[<span class="stringliteral">"avx512dq"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 17) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&nbsp;  Features[<span class="stringliteral">"rdseed"</span>]     = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 18) &amp; 1);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&nbsp;  Features[<span class="stringliteral">"adx"</span>]        = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 19) &amp; 1);</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&nbsp;  Features[<span class="stringliteral">"avx512ifma"</span>] = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 21) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&nbsp;  Features[<span class="stringliteral">"clflushopt"</span>] = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 23) &amp; 1);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&nbsp;  Features[<span class="stringliteral">"clwb"</span>]       = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 24) &amp; 1);</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&nbsp;  Features[<span class="stringliteral">"avx512pf"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 26) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&nbsp;  Features[<span class="stringliteral">"avx512er"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 27) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&nbsp;  Features[<span class="stringliteral">"avx512cd"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 28) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&nbsp;  Features[<span class="stringliteral">"sha"</span>]        = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 29) &amp; 1);</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&nbsp;  Features[<span class="stringliteral">"avx512bw"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 30) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&nbsp;  Features[<span class="stringliteral">"avx512vl"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 31) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&nbsp; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&nbsp;  Features[<span class="stringliteral">"prefetchwt1"</span>]     = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  0) &amp; 1);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&nbsp;  Features[<span class="stringliteral">"avx512vbmi"</span>]      = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  1) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&nbsp;  Features[<span class="stringliteral">"pku"</span>]             = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  4) &amp; 1);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&nbsp;  Features[<span class="stringliteral">"waitpkg"</span>]         = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  5) &amp; 1);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&nbsp;  Features[<span class="stringliteral">"avx512vbmi2"</span>]     = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  6) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&nbsp;  Features[<span class="stringliteral">"shstk"</span>]           = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  7) &amp; 1);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&nbsp;  Features[<span class="stringliteral">"gfni"</span>]            = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  8) &amp; 1);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&nbsp;  Features[<span class="stringliteral">"vaes"</span>]            = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt;  9) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&nbsp;  Features[<span class="stringliteral">"vpclmulqdq"</span>]      = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 10) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&nbsp;  Features[<span class="stringliteral">"avx512vnni"</span>]      = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 11) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&nbsp;  Features[<span class="stringliteral">"avx512bitalg"</span>]    = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 12) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&nbsp;  Features[<span class="stringliteral">"avx512vpopcntdq"</span>] = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 14) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&nbsp;  Features[<span class="stringliteral">"rdpid"</span>]           = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 22) &amp; 1);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&nbsp;  Features[<span class="stringliteral">"kl"</span>]              = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 23) &amp; 1); <span class="comment">// key locker</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&nbsp;  Features[<span class="stringliteral">"cldemote"</span>]        = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 25) &amp; 1);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&nbsp;  Features[<span class="stringliteral">"movdiri"</span>]         = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 27) &amp; 1);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&nbsp;  Features[<span class="stringliteral">"movdir64b"</span>]       = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 28) &amp; 1);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&nbsp;  Features[<span class="stringliteral">"enqcmd"</span>]          = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a> &gt;&gt; 29) &amp; 1);</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&nbsp; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&nbsp;  Features[<span class="stringliteral">"uintr"</span>]           = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 5) &amp; 1);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&nbsp;  Features[<span class="stringliteral">"avx512vp2intersect"</span>] =</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&nbsp;      HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 8) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&nbsp;  Features[<span class="stringliteral">"serialize"</span>]       = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 14) &amp; 1);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&nbsp;  Features[<span class="stringliteral">"tsxldtrk"</span>]        = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 16) &amp; 1);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&nbsp;  <span class="comment">// There are two CPUID leafs which information associated with the pconfig</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&nbsp;  <span class="comment">// instruction:</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&nbsp;  <span class="comment">// EAX=0x7, ECX=0x0 indicates the availability of the instruction (via the 18th</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&nbsp;  <span class="comment">// bit of EDX), while the EAX=0x1b leaf returns information on the</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&nbsp;  <span class="comment">// availability of specific pconfig leafs.</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&nbsp;  <span class="comment">// The target feature here only refers to the the first of these two.</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&nbsp;  <span class="comment">// Users might need to check for the availability of specific pconfig</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&nbsp;  <span class="comment">// leaves using cpuid, since that information is ignored while</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&nbsp;  <span class="comment">// detecting features using the "-march=native" flag.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&nbsp;  <span class="comment">// For more info, see X86 ISA docs.</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&nbsp;  Features[<span class="stringliteral">"pconfig"</span>] = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 18) &amp; 1);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&nbsp;  Features[<span class="stringliteral">"amx-bf16"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 22) &amp; 1) &amp;&amp; HasAMXSave;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&nbsp;  Features[<span class="stringliteral">"avx512fp16"</span>] = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 23) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&nbsp;  Features[<span class="stringliteral">"amx-tile"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 24) &amp; 1) &amp;&amp; HasAMXSave;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&nbsp;  Features[<span class="stringliteral">"amx-int8"</span>]   = HasLeaf7 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a> &gt;&gt; 25) &amp; 1) &amp;&amp; HasAMXSave;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&nbsp;  <span class="keywordtype">bool</span> HasLeaf7Subleaf1 =</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&nbsp;      MaxLevel &gt;= 7 &amp;&amp; !getX86CpuIDAndInfoEx(0x7, 0x1, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&nbsp;  Features[<span class="stringliteral">"avxvnni"</span>]    = HasLeaf7Subleaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 4) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&nbsp;  Features[<span class="stringliteral">"avx512bf16"</span>] = HasLeaf7Subleaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 5) &amp; 1) &amp;&amp; HasAVX512Save;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&nbsp;  Features[<span class="stringliteral">"hreset"</span>]     = HasLeaf7Subleaf1 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 22) &amp; 1);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&nbsp; </div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&nbsp;  <span class="keywordtype">bool</span> HasLeafD = MaxLevel &gt;= 0xd &amp;&amp;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&nbsp;                  !getX86CpuIDAndInfoEx(0xd, 0x1, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&nbsp; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&nbsp;  <span class="comment">// Only enable XSAVE if OS has enabled support for saving YMM state.</span></div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&nbsp;  Features[<span class="stringliteral">"xsaveopt"</span>] = HasLeafD &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 0) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&nbsp;  Features[<span class="stringliteral">"xsavec"</span>]   = HasLeafD &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 1) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&nbsp;  Features[<span class="stringliteral">"xsaves"</span>]   = HasLeafD &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a> &gt;&gt; 3) &amp; 1) &amp;&amp; HasAVXSave;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&nbsp; </div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&nbsp;  <span class="keywordtype">bool</span> HasLeaf14 = MaxLevel &gt;= 0x14 &amp;&amp;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&nbsp;                  !getX86CpuIDAndInfoEx(0x14, 0x0, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&nbsp; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&nbsp;  Features[<span class="stringliteral">"ptwrite"</span>] = HasLeaf14 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 4) &amp; 1);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&nbsp; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&nbsp;  <span class="keywordtype">bool</span> HasLeaf19 =</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&nbsp;      MaxLevel &gt;= 0x19 &amp;&amp; !getX86CpuIDAndInfo(0x19, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">EAX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">ECX</a>, &amp;<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">EDX</a>);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&nbsp;  Features[<span class="stringliteral">"widekl"</span>] = HasLeaf7 &amp;&amp; HasLeaf19 &amp;&amp; ((<a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">EBX</a> &gt;&gt; 2) &amp; 1);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&nbsp; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&nbsp;}</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&nbsp;<span class="preprocessor">#elif defined(__linux__) &amp;&amp; (defined(__arm__) || defined(__aarch64__))</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&nbsp;<span class="keywordtype">bool</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a768d54e5ada846d513f72d9e43e89ef6">sys::getHostCPUFeatures</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringMap.html">StringMap&lt;bool&gt;</a> &amp;Features) {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&nbsp;  std::unique_ptr&lt;llvm::MemoryBuffer&gt; <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> = <a class="code" href="https://llvm.org/doxygen/Host_8cpp.html#a50624670d50701a757b4556144b23665">getProcCpuinfoContent</a>();</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&nbsp;  <span class="keywordflow">if</span> (!<a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>)</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&nbsp;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&nbsp; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 32&gt;</a> Lines;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;getBuffer().split(Lines, <span class="stringliteral">"\n"</span>);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&nbsp; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1SmallVector.html">SmallVector&lt;StringRef, 32&gt;</a> CPUFeatures;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&nbsp; </div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&nbsp;  <span class="comment">// Look for the CPU features.</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&nbsp;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Lines.size(); <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&nbsp;    <span class="keywordflow">if</span> (Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].<a class="code" href="https://llvm.org/doxygen/Magic_8cpp.html#a3c4dfe70f4dcd8100bfb9a037b95a664">startswith</a>(<span class="stringliteral">"Features"</span>)) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&nbsp;      Lines[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>].split(CPUFeatures, <span class="charliteral">' '</span>);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&nbsp;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&nbsp;    }</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&nbsp; </div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&nbsp;<span class="preprocessor">#if defined(__aarch64__)</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&nbsp;  <span class="comment">// Keep track of which crypto features we have seen</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&nbsp;  <span class="keyword">enum</span> { CAP_AES = 0x1, CAP_PMULL = 0x2, CAP_SHA1 = 0x4, CAP_SHA2 = 0x8 };</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a> crypto = 0;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&nbsp; </div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&nbsp;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = CPUFeatures.size(); <a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&nbsp;    <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">StringRef</a> LLVMFeatureStr = <a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">StringSwitch&lt;StringRef&gt;</a>(CPUFeatures[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>])</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&nbsp;<span class="preprocessor">#if defined(__aarch64__)</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"asimd"</span>, <span class="stringliteral">"neon"</span>)</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"fp"</span>, <span class="stringliteral">"fp-armv8"</span>)</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"crc32"</span>, <span class="stringliteral">"crc"</span>)</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"half"</span>, <span class="stringliteral">"fp16"</span>)</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"neon"</span>, <span class="stringliteral">"neon"</span>)</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"vfpv3"</span>, <span class="stringliteral">"vfp3"</span>)</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"vfpv3d16"</span>, <span class="stringliteral">"d16"</span>)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"vfpv4"</span>, <span class="stringliteral">"vfp4"</span>)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"idiva"</span>, <span class="stringliteral">"hwdiv-arm"</span>)</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">Case</a>(<span class="stringliteral">"idivt"</span>, <span class="stringliteral">"hwdiv"</span>)</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&nbsp;                                   .<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">Default</a>(<span class="stringliteral">""</span>);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&nbsp; </div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&nbsp;<span class="preprocessor">#if defined(__aarch64__)</span></div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&nbsp;    <span class="comment">// We need to check crypto separately since we need all of the crypto</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&nbsp;    <span class="comment">// extensions to enable the subtarget feature</span></div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&nbsp;    <span class="keywordflow">if</span> (CPUFeatures[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="stringliteral">"aes"</span>)</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&nbsp;      crypto |= CAP_AES;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&nbsp;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CPUFeatures[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="stringliteral">"pmull"</span>)</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&nbsp;      crypto |= CAP_PMULL;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&nbsp;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CPUFeatures[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="stringliteral">"sha1"</span>)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&nbsp;      crypto |= CAP_SHA1;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&nbsp;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CPUFeatures[<a class="code" href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] == <span class="stringliteral">"sha2"</span>)</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&nbsp;      crypto |= CAP_SHA2;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&nbsp; </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&nbsp;    <span class="keywordflow">if</span> (LLVMFeatureStr != <span class="stringliteral">""</span>)</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&nbsp;      Features[LLVMFeatureStr] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&nbsp;  }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&nbsp; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&nbsp;<span class="preprocessor">#if defined(__aarch64__)</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&nbsp;  <span class="comment">// If we have all crypto bits we can add the feature</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&nbsp;  <span class="keywordflow">if</span> (crypto == (CAP_AES | CAP_PMULL | CAP_SHA1 | CAP_SHA2))</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&nbsp;    Features[<span class="stringliteral">"crypto"</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&nbsp; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&nbsp;}</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&nbsp;<span class="preprocessor">#elif defined(_WIN32) &amp;&amp; (defined(__aarch64__) || defined(_M_ARM64))</span></div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&nbsp;<span class="keywordtype">bool</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a768d54e5ada846d513f72d9e43e89ef6">sys::getHostCPUFeatures</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringMap.html">StringMap&lt;bool&gt;</a> &amp;Features) {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&nbsp;  <span class="keywordflow">if</span> (IsProcessorFeaturePresent(PF_ARM_NEON_INSTRUCTIONS_AVAILABLE))</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&nbsp;    Features[<span class="stringliteral">"neon"</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&nbsp;  <span class="keywordflow">if</span> (IsProcessorFeaturePresent(PF_ARM_V8_CRC32_INSTRUCTIONS_AVAILABLE))</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&nbsp;    Features[<span class="stringliteral">"crc"</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&nbsp;  <span class="keywordflow">if</span> (IsProcessorFeaturePresent(PF_ARM_V8_CRYPTO_INSTRUCTIONS_AVAILABLE))</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&nbsp;    Features[<span class="stringliteral">"crypto"</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&nbsp; </div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&nbsp;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&nbsp;}</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&nbsp;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&nbsp;<span class="keywordtype">bool</span> <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a768d54e5ada846d513f72d9e43e89ef6">sys::getHostCPUFeatures</a>(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1StringMap.html">StringMap&lt;bool&gt;</a> &amp;Features) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&nbsp;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&nbsp; </div>
<div class="line"><a name="l01760"></a><span class="lineno"><a class="line" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#aab375071f641a086c0d7067635ccd3dc"> 1760</a></span>&nbsp;std::string <a class="code" href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#aab375071f641a086c0d7067635ccd3dc">sys::getProcessTriple</a>() {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&nbsp;  std::string TargetTripleString = updateTripleOSVersion(LLVM_HOST_TRIPLE);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&nbsp;  <a class="code" href="https://llvm.org/doxygen/classllvm_1_1Triple.html">Triple</a> PT(<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a17b5b7102b637681083b66c660d2f7d1">Triple::normalize</a>(TargetTripleString));</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&nbsp; </div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&nbsp;  <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *) == 8 &amp;&amp; PT.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Triple.html#ae11d6e273225164d9da0c6cad55e093d">isArch32Bit</a>())</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&nbsp;    PT = PT.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a424c4dc4d08741fa4615cc0c4ec956bd">get64BitArchVariant</a>();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&nbsp;  <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *) == 4 &amp;&amp; PT.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a9e0d7431e635bbbf753602d214d89f0e">isArch64Bit</a>())</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&nbsp;    PT = PT.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a13e7af62cc56f460209e36190829d78c">get32BitArchVariant</a>();</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&nbsp; </div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&nbsp;  <span class="keywordflow">return</span> PT.<a class="code" href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a1bba9acf4b530fe78665bfdd081df008">str</a>();</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&nbsp;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_a2ae03c6da16f46a816d2cb1720603882"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a2ae03c6da16f46a816d2cb1720603882">llvm::StringSwitch::Case</a></div><div class="ttdeci">StringSwitch &amp; Case(StringLiteral S, T Value)</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringSwitch_8h_source.html#l00069">StringSwitch.h:69</a></div></div>
<div class="ttc" id="aMemoryBuffer_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/MemoryBuffer_8h.html">MemoryBuffer.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm.html">llvm</a></div><div class="ttdoc">/file This file defines the SmallVector class.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/AllocatorList_8h_source.html#l00022">AllocatorList.h:22</a></div></div>
<div class="ttc" id="anamespacellvm_1_1N86_html_ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa488c3a2a57ed8f23f0c48d8b40348af0">llvm::N86::EAX</a></div><div class="ttdeci">@ EAX</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/X86MCTargetDesc_8h_source.html#l00051">X86MCTargetDesc.h:51</a></div></div>
<div class="ttc" id="aFileSystem_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/FileSystem_8h.html">FileSystem.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a8d8d8ac344177b9d62cff2fd70fa8d4e"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a8d8d8ac344177b9d62cff2fd70fa8d4e">llvm::StringRef::endswith</a></div><div class="ttdeci">LLVM_NODISCARD bool endswith(StringRef Suffix) const</div><div class="ttdoc">Check if this string ends with the given Suffix.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00297">StringRef.h:297</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_1_1x86_html_acb4b733a1f49794a905f5735a30bf466ac21b5352fdce8cbfdfab24a7f138d091"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466ac21b5352fdce8cbfdfab24a7f138d091">llvm::sys::detail::x86::VendorSignatures::GENUINE_INTEL</a></div><div class="ttdeci">@ GENUINE_INTEL</div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="https://llvm.org/doxygen/README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html_a0f77f8a7b34e705d79d2de8740516fe1"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html#a0f77f8a7b34e705d79d2de8740516fe1">llvm::StringSwitch::Default</a></div><div class="ttdeci">LLVM_NODISCARD R Default(T Value)</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringSwitch_8h_source.html#l00183">StringSwitch.h:183</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129ab42dc62dffc028aa9b9e5a3fcb13e48b"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129ab42dc62dffc028aa9b9e5a3fcb13e48b">llvm::MachO::CPU_SUBTYPE_POWERPC_603ev</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_603ev</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01535">MachO.h:1535</a></div></div>
<div class="ttc" id="anamespacellvm_1_1N86_html_ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aaf870f9ec8a932e6d114847c22e7e9121">llvm::N86::EDX</a></div><div class="ttdeci">@ EDX</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/X86MCTargetDesc_8h_source.html#l00051">X86MCTargetDesc.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ad0f54a163ac500b144590640c6f1eb6b"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">llvm::StringRef::npos</a></div><div class="ttdeci">static constexpr size_t npos</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00060">StringRef.h:60</a></div></div>
<div class="ttc" id="aHost_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/Host_8h.html">Host.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/SmallVector_8h_source.html#l01182">SmallVector.h:1182</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a2efbb6ab897d288e9ebee26ea12fa666"><div class="ttname"><a href="https://llvm.org/doxygen/ELFObjHandler_8cpp.html#a2efbb6ab897d288e9ebee26ea12fa666">Content</a></div><div class="ttdeci">T Content</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/ELFObjHandler_8cpp_source.html#l00089">ELFObjHandler.cpp:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a13e7af62cc56f460209e36190829d78c"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a13e7af62cc56f460209e36190829d78c">llvm::Triple::get32BitArchVariant</a></div><div class="ttdeci">llvm::Triple get32BitArchVariant() const</div><div class="ttdoc">Form a triple with a 32-bit variant of the current architecture.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Triple_8cpp_source.html#l01388">Triple.cpp:1388</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_af2acbc063e449084ba33f738a700ce47ae4da455e762f086662789406e1f085e0"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47ae4da455e762f086662789406e1f085e0">llvm::MachO::CPU_TYPE_ARM</a></div><div class="ttdeci">@ CPU_TYPE_ARM</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01448">MachO.h:1448</a></div></div>
<div class="ttc" id="aUnix_2Host_8inc_html"><div class="ttname"><a href="https://llvm.org/doxygen/Unix_2Host_8inc.html">Host.inc</a></div></div>
<div class="ttc" id="aMagic_8cpp_html_a3c4dfe70f4dcd8100bfb9a037b95a664"><div class="ttname"><a href="https://llvm.org/doxygen/Magic_8cpp.html#a3c4dfe70f4dcd8100bfb9a037b95a664">startswith</a></div><div class="ttdeci">static bool startswith(StringRef Magic, const char(&amp;S)[N])</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Magic_8cpp_source.html#l00028">Magic.cpp:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_html_a768d54e5ada846d513f72d9e43e89ef6"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a768d54e5ada846d513f72d9e43e89ef6">llvm::sys::getHostCPUFeatures</a></div><div class="ttdeci">bool getHostCPUFeatures(StringMap&lt; bool, MallocAllocator &gt; &amp;Features)</div><div class="ttdoc">getHostCPUFeatures - Get the LLVM names for the host CPU features.</div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_1_1x86_html_acb4b733a1f49794a905f5735a30bf466a696b031073e74bf2cb98e5ef201d4aa3"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466a696b031073e74bf2cb98e5ef201d4aa3">llvm::sys::detail::x86::VendorSignatures::UNKNOWN</a></div><div class="ttdeci">@ UNKNOWN</div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/raw__ostream_8cpp_source.html#l00893">raw_ostream.cpp:893</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129af566f5e040ae941bbbd6c8f80b8862b6"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129af566f5e040ae941bbbd6c8f80b8862b6">llvm::MachO::CPU_SUBTYPE_POWERPC_7450</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_7450</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01541">MachO.h:1541</a></div></div>
<div class="ttc" id="aCompiler_8h_html_acc1c483f4b4ee2f17bb6643a3b353609"><div class="ttname"><a href="https://llvm.org/doxygen/Compiler_8h.html#acc1c483f4b4ee2f17bb6643a3b353609">LLVM_ATTRIBUTE_UNUSED</a></div><div class="ttdeci">#define LLVM_ATTRIBUTE_UNUSED</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Compiler_8h_source.html#l00182">Compiler.h:182</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129ad18c96cd3fd77609af73928e0f81cb25"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129ad18c96cd3fd77609af73928e0f81cb25">llvm::MachO::CPU_SUBTYPE_POWERPC_603</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_603</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01533">MachO.h:1533</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a2352e45658fc7292aa209a94baa095e9"><div class="ttname"><a href="https://llvm.org/doxygen/lib_2Target_2README_8txt.html#a2352e45658fc7292aa209a94baa095e9">x86</a></div><div class="ttdeci">Note that only the low bits of effective_addr2 are used On bit we don t eliminate the computation of the top half of effective_addr2 because we don t have whole function selection dags On x86</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/lib_2Target_2README_8txt_source.html#l00318">README.txt:318</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129a1c9c93ae9f4478d76ba081dd3861b765"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a1c9c93ae9f4478d76ba081dd3861b765">llvm::MachO::CPU_SUBTYPE_POWERPC_604e</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_604e</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01537">MachO.h:1537</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="https://llvm.org/doxygen/MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a9e0d7431e635bbbf753602d214d89f0e"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a9e0d7431e635bbbf753602d214d89f0e">llvm::Triple::isArch64Bit</a></div><div class="ttdeci">bool isArch64Bit() const</div><div class="ttdoc">Test whether the architecture is 64-bit.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Triple_8cpp_source.html#l01376">Triple.cpp:1376</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_a76b193577aa67b1fac72cdbb5343241a"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1MemoryBuffer.html#a76b193577aa67b1fac72cdbb5343241a">llvm::MemoryBuffer::getFileAsStream</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; getFileAsStream(const Twine &amp;Filename)</div><div class="ttdoc">Read all of the specified file into a MemoryBuffer as a stream (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/MemoryBuffer_8cpp_source.html#l00518">MemoryBuffer.cpp:518</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Reloc_html_af59f6dc86e80aaf56f1afd155eebf568"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1Reloc.html#af59f6dc86e80aaf56f1afd155eebf568">llvm::Reloc::Model</a></div><div class="ttdeci">Model</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/CodeGen_8h_source.html#l00022">CodeGen.h:22</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_1_1x86_html"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html">llvm::sys::detail::x86</a></div><div class="ttdoc">Helper functions to extract CPU details from CPUID on x86.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8h_source.html#l00070">Host.h:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a424c4dc4d08741fa4615cc0c4ec956bd"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a424c4dc4d08741fa4615cc0c4ec956bd">llvm::Triple::get64BitArchVariant</a></div><div class="ttdeci">llvm::Triple get64BitArchVariant() const</div><div class="ttdoc">Form a triple with a 64-bit variant of the current architecture.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Triple_8cpp_source.html#l01464">Triple.cpp:1464</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_1_1x86_html_acb4b733a1f49794a905f5735a30bf466a2c333fca249d8d869bd42d141c055ab2"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466a2c333fca249d8d869bd42d141c055ab2">llvm::sys::detail::x86::VendorSignatures::AUTHENTIC_AMD</a></div><div class="ttdeci">@ AUTHENTIC_AMD</div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a1bba9acf4b530fe78665bfdd081df008"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a1bba9acf4b530fe78665bfdd081df008">llvm::Triple::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Triple_8h_source.html#l00373">Triple.h:373</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="https://llvm.org/doxygen/BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E("coreclr", "CoreCLR-compatible GC")</div></div>
<div class="ttc" id="anamespacellvm_1_1X86_html_abd1f712df4639ee306f3295384cb9a49ae2889a8b028db56ebebbeffd03557952"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1X86.html#abd1f712df4639ee306f3295384cb9a49ae2889a8b028db56ebebbeffd03557952">llvm::X86::CPU_FEATURE_MAX</a></div><div class="ttdeci">@ CPU_FEATURE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/X86TargetParser_8h_source.html#l00060">X86TargetParser.h:60</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a74783910a317456a47477f21dc8a73de"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a74783910a317456a47477f21dc8a73de">llvm::StringRef::split</a></div><div class="ttdeci">LLVM_NODISCARD std::pair&lt; StringRef, StringRef &gt; split(char Separator) const</div><div class="ttdoc">Split into two substrings around the first occurrence of a separator character.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00749">StringRef.h:749</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129afef657818144a200a098495cc390bced"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129afef657818144a200a098495cc390bced">llvm::MachO::CPU_SUBTYPE_POWERPC_602</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_602</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01532">MachO.h:1532</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ms__demangle_html_afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1ms__demangle.html#afb795990ffc0cb7321e7d1eacc246324a8eea62084ca7e541d918e823422bd82e">llvm::ms_demangle::QualifierMangleMode::Result</a></div><div class="ttdeci">@ Result</div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_af2acbc063e449084ba33f738a700ce47a630a338da04bb807aac2b41f8fe4e6e7"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#af2acbc063e449084ba33f738a700ce47a630a338da04bb807aac2b41f8fe4e6e7">llvm::MachO::CPU_TYPE_POWERPC</a></div><div class="ttdeci">@ CPU_TYPE_POWERPC</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01452">MachO.h:1452</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorOr_html_a8300c72908f1845c931951ed4b2a2375"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1ErrorOr.html#a8300c72908f1845c931951ed4b2a2375">llvm::ErrorOr::getError</a></div><div class="ttdeci">std::error_code getError() const</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/ErrorOr_8h_source.html#l00153">ErrorOr.h:153</a></div></div>
<div class="ttc" id="anamespacellvm_1_1N86_html_ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa667b758702693d9dfb46e55025fc559d">llvm::N86::ECX</a></div><div class="ttdeci">@ ECX</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/X86MCTargetDesc_8h_source.html#l00051">X86MCTargetDesc.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_1_1N86_html_ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1N86.html#ae48836d85e44bba9b5ccf580b1ea181aa3037fe2787fbbc55d78cbf8ba4768dc8">llvm::N86::EBX</a></div><div class="ttdeci">@ EBX</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/X86MCTargetDesc_8h_source.html#l00051">X86MCTargetDesc.h:51</a></div></div>
<div class="ttc" id="aBCD_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/BCD_8h.html">BCD.h</a></div></div>
<div class="ttc" id="aHost_8cpp_html_adce0c7288a8f0408b66612dea9d904f2"><div class="ttname"><a href="https://llvm.org/doxygen/Host_8cpp.html#adce0c7288a8f0408b66612dea9d904f2">computeHostNumPhysicalCores</a></div><div class="ttdeci">static int computeHostNumPhysicalCores()</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l01503">Host.cpp:1503</a></div></div>
<div class="ttc" id="aStringMap_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/StringMap_8h.html">StringMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringMap.html">llvm::StringMap&lt; bool &gt;</a></div></div>
<div class="ttc" id="aHost_8cpp_html_a50624670d50701a757b4556144b23665"><div class="ttname"><a href="https://llvm.org/doxygen/Host_8cpp.html#a50624670d50701a757b4556144b23665">getProcCpuinfoContent</a></div><div class="ttdeci">static std::unique_ptr&lt; llvm::MemoryBuffer &gt; LLVM_ATTRIBUTE_UNUSED getProcCpuinfoContent()</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l00062">Host.cpp:62</a></div></div>
<div class="ttc" id="aX86TargetParser_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/X86TargetParser_8h.html">X86TargetParser.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_html_ab3ce256a44f1bb0818f863e4838e5cb1a9feb20f6fedce2a1f5a5b6c18f519760"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU.html#ab3ce256a44f1bb0818f863e4838e5cb1a9feb20f6fedce2a1f5a5b6c18f519760">llvm::AMDGPU::FEATURE_FMA</a></div><div class="ttdeci">@ FEATURE_FMA</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/TargetParser_8h_source.html#l00118">TargetParser.h:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a7db561f0b6b9afd18000bc4503717ead"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a7db561f0b6b9afd18000bc4503717ead">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr LLVM_NODISCARD bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00153">StringRef.h:153</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab1772fd431decccb7926d484ea223db7"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm.html#ab1772fd431decccb7926d484ea223db7">llvm::count</a></div><div class="ttdeci">auto count(R &amp;&amp;Range, const E &amp;Element)</div><div class="ttdoc">Wrapper function around std::count to count the number of times an element Element occurs in the give...</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/STLExtras_8h_source.html#l01667">STLExtras.h:1667</a></div></div>
<div class="ttc" id="aclassuint64__t_html"><div class="ttname"><a href="https://llvm.org/doxygen/classuint64__t.html">uint64_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a996c7ca3dd6843ba5d55a7c217770270"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a996c7ca3dd6843ba5d55a7c217770270">llvm::StringRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00130">StringRef.h:130</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a17b5b7102b637681083b66c660d2f7d1"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Triple.html#a17b5b7102b637681083b66c660d2f7d1">llvm::Triple::normalize</a></div><div class="ttdeci">std::string normalize() const</div><div class="ttdoc">Return the normalized form of this triple's string.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Triple_8h_source.html#l00307">Triple.h:307</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_ae11d6e273225164d9da0c6cad55e093d"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1Triple.html#ae11d6e273225164d9da0c6cad55e093d">llvm::Triple::isArch32Bit</a></div><div class="ttdeci">bool isArch32Bit() const</div><div class="ttdoc">Test whether the architecture is 32-bit.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Triple_8cpp_source.html#l01380">Triple.cpp:1380</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_ac0a77607de60a6a00b7a3ff4fc7de35daf84be5758df808a4722cde3519645725"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#ac0a77607de60a6a00b7a3ff4fc7de35daf84be5758df808a4722cde3519645725">llvm::MachO::CPU_SUBTYPE_ARM_V7S</a></div><div class="ttdeci">@ CPU_SUBTYPE_ARM_V7S</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01512">MachO.h:1512</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="https://llvm.org/doxygen/lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129aac0e0f20cd3e2524c38af7454626fbad"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129aac0e0f20cd3e2524c38af7454626fbad">llvm::MachO::CPU_SUBTYPE_POWERPC_620</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_620</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01538">MachO.h:1538</a></div></div>
<div class="ttc" id="aWindows_2Host_8inc_html"><div class="ttname"><a href="https://llvm.org/doxygen/Windows_2Host_8inc.html">Host.inc</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129a98d21d168065e19caf239587d5c8aa2e"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a98d21d168065e19caf239587d5c8aa2e">llvm::MachO::CPU_SUBTYPE_POWERPC_750</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_750</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01539">MachO.h:1539</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="https://llvm.org/doxygen/MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1support_html_a338726aef568a15feeb1b99ffff4409caa2d63b0536e1684292bd8bbbe49a6099"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1support.html#a338726aef568a15feeb1b99ffff4409caa2d63b0536e1684292bd8bbbe49a6099">llvm::support::aligned</a></div><div class="ttdeci">@ aligned</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Endian_8h_source.html#l00030">Endian.h:30</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="https://llvm.org/doxygen/SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1codeview.html#a2e1cbb0e2bd7a35ed99c31853dc45374a3fd6b696867d70225deda7868308679b">llvm::codeview::CompileSym2Flags::EC</a></div><div class="ttdeci">@ EC</div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129aaaef32e172e3243cdfcd63f032dfa9da"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129aaaef32e172e3243cdfcd63f032dfa9da">llvm::MachO::CPU_SUBTYPE_POWERPC_601</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_601</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01531">MachO.h:1531</a></div></div>
<div class="ttc" id="aTriple_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_html_a111959c7103e2c6a71a25ed2db279944"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a111959c7103e2c6a71a25ed2db279944">llvm::sys::getHostNumPhysicalCores</a></div><div class="ttdeci">int getHostNumPhysicalCores()</div><div class="ttdoc">Get the number of physical cores (as opposed to logical cores returned from thread::hardware_concurre...</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l01506">Host.cpp:1506</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00058">StringRef.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129a7beb081d001dc6f044f27861a4c65bc4"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a7beb081d001dc6f044f27861a4c65bc4">llvm::MachO::CPU_SUBTYPE_POWERPC_604</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_604</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01536">MachO.h:1536</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_html_a586f1a912d0b5bf5a176e0b3799de5b7"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a586f1a912d0b5bf5a176e0b3799de5b7">llvm::sys::detail::getHostCPUNameForBPF</a></div><div class="ttdeci">StringRef getHostCPUNameForBPF()</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l00383">Host.cpp:383</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="https://llvm.org/doxygen/classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aCompiler_8h_html_a9579881de06b1560d242d15171ca1b86"><div class="ttname"><a href="https://llvm.org/doxygen/Compiler_8h.html#a9579881de06b1560d242d15171ca1b86">LLVM_FALLTHROUGH</a></div><div class="ttdeci">#define LLVM_FALLTHROUGH</div><div class="ttdoc">LLVM_FALLTHROUGH - Mark fallthrough cases in switch statements.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Compiler_8h_source.html#l00280">Compiler.h:280</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LPAC_html_ab2e8fd263c886a713ccba7505c1b2ee0a9ac6c6caa2e21edbfeba176ac8f78b4d"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1LPAC.html#ab2e8fd263c886a713ccba7505c1b2ee0a9ac6c6caa2e21edbfeba176ac8f78b4d">llvm::LPAC::UNKNOWN</a></div><div class="ttdeci">@ UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/LanaiAluCode_8h_source.html#l00040">LanaiAluCode.h:40</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129a4fa58cc86b4f2804ca49b73ba1136e6e"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a4fa58cc86b4f2804ca49b73ba1136e6e">llvm::MachO::CPU_SUBTYPE_POWERPC_7400</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_7400</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01540">MachO.h:1540</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_html_a3455f56c4a28156282d4f5cd6265e034"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a3455f56c4a28156282d4f5cd6265e034">llvm::sys::detail::getHostCPUNameForS390x</a></div><div class="ttdeci">StringRef getHostCPUNameForS390x(StringRef ProcCpuinfoContent)</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l00338">Host.cpp:338</a></div></div>
<div class="ttc" id="aclassuint16__t_html"><div class="ttname"><a href="https://llvm.org/doxygen/classuint16__t.html">uint16_t</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_1_1x86_html_acb4b733a1f49794a905f5735a30bf466"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#acb4b733a1f49794a905f5735a30bf466">llvm::sys::detail::x86::VendorSignatures</a></div><div class="ttdeci">VendorSignatures</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8h_source.html#l00071">Host.h:71</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_html_aab375071f641a086c0d7067635ccd3dc"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#aab375071f641a086c0d7067635ccd3dc">llvm::sys::getProcessTriple</a></div><div class="ttdeci">std::string getProcessTriple()</div><div class="ttdoc">getProcessTriple() - Return an appropriate target triple for generating code to be loaded into the cu...</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l01760">Host.cpp:1760</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129a4cb8180b43933da85d3498899ede58af"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a4cb8180b43933da85d3498899ede58af">llvm::MachO::CPU_SUBTYPE_POWERPC_603e</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_603e</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01534">MachO.h:1534</a></div></div>
<div class="ttc" id="aStatistic_8cpp_html_a558f5c44426d0eb7abb82a65e8892d9a"><div class="ttname"><a href="https://llvm.org/doxygen/Statistic_8cpp.html#a558f5c44426d0eb7abb82a65e8892d9a">Enabled</a></div><div class="ttdeci">static bool Enabled</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Statistic_8cpp_source.html#l00046">Statistic.cpp:46</a></div></div>
<div class="ttc" id="aStringSwitch_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/StringSwitch_8h.html">StringSwitch.h</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_html_a5cd7a516996539c18628e51d9f628e07"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a5cd7a516996539c18628e51d9f628e07">llvm::sys::detail::getHostCPUNameForARM</a></div><div class="ttdeci">StringRef getHostCPUNameForARM(StringRef ProcCpuinfoContent)</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l00156">Host.cpp:156</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_html_a506b97a4c93510ccce514cef204be19d"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail.html#a506b97a4c93510ccce514cef204be19d">llvm::sys::detail::getHostCPUNameForPowerPC</a></div><div class="ttdeci">StringRef getHostCPUNameForPowerPC(StringRef ProcCpuinfoContent)</div><div class="ttdoc">Helper functions to extract HostCPUName from /proc/cpuinfo on linux.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l00073">Host.cpp:73</a></div></div>
<div class="ttc" id="aclassllvm_1_1ErrorOr_html"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1ErrorOr.html">llvm::ErrorOr</a></div><div class="ttdoc">Represents either an error or a value T.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/ErrorOr_8h_source.html#l00056">ErrorOr.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a4c923dfa66a41094c8abcd145c7b0a0b"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a4c923dfa66a41094c8abcd145c7b0a0b">llvm::StringRef::const_iterator</a></div><div class="ttdeci">const char * const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00063">StringRef.h:63</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_html_a2e8cdc0e591685c9156af3d0d4fdae06"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys.html#a2e8cdc0e591685c9156af3d0d4fdae06">llvm::sys::getHostCPUName</a></div><div class="ttdeci">StringRef getHostCPUName()</div><div class="ttdoc">getHostCPUName - Get the LLVM name for the host CPU.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l01372">Host.cpp:1372</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringSwitch_html"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringSwitch.html">llvm::StringSwitch</a></div><div class="ttdoc">A switch()-like statement whose cases are string literals.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringSwitch_8h_source.html#l00044">StringSwitch.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1detail_1_1x86_html_af6098093bce999858442cd6a17a299e9"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1sys_1_1detail_1_1x86.html#af6098093bce999858442cd6a17a299e9">llvm::sys::detail::x86::getVendorSignature</a></div><div class="ttdeci">VendorSignatures getVendorSignature(unsigned *MaxLeaf=nullptr)</div><div class="ttdoc">Returns the host CPU's vendor.</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/Host_8cpp_source.html#l01378">Host.cpp:1378</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1VGPRIndexMode_html_a9afd95476c40096a5898ba0f06370b3a"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1AMDGPU_1_1VGPRIndexMode.html#a9afd95476c40096a5898ba0f06370b3a">llvm::AMDGPU::VGPRIndexMode::Id</a></div><div class="ttdeci">Id</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/SIDefines_8h_source.html#l00232">SIDefines.h:232</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_ac2bca51fd633d11e41373896183538f6"><div class="ttname"><a href="https://llvm.org/doxygen/README__ALTIVEC_8txt.html#ac2bca51fd633d11e41373896183538f6">registers</a></div><div class="ttdeci">Implement PPCInstrInfo::isLoadFromStackSlot isStoreToStackSlot for vector registers</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/README__ALTIVEC_8txt_source.html#l00004">README_ALTIVEC.txt:4</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a46f643f1eb1939362c7dd79361bcbd0e"><div class="ttname"><a href="https://llvm.org/doxygen/classllvm_1_1StringRef.html#a46f643f1eb1939362c7dd79361bcbd0e">llvm::StringRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/StringRef_8h_source.html#l00128">StringRef.h:128</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="https://llvm.org/doxygen/SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MachO_html_a912c7d3d71ff10e3710dae142cf2e129a1bff2fcca53f87f7b7520b321ff6a30b"><div class="ttname"><a href="https://llvm.org/doxygen/namespacellvm_1_1MachO.html#a912c7d3d71ff10e3710dae142cf2e129a1bff2fcca53f87f7b7520b321ff6a30b">llvm::MachO::CPU_SUBTYPE_POWERPC_970</a></div><div class="ttdeci">@ CPU_SUBTYPE_POWERPC_970</div><div class="ttdef"><b>Definition:</b> <a href="https://llvm.org/doxygen/BinaryFormat_2MachO_8h_source.html#l01542">MachO.h:1542</a></div></div>
<!-- start footer part -->
<hr class="footer"><address class="footer"><small>
Generated on Tue Mar 1 2022 20:13:27 for LLVM by &nbsp;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="./LLVM_ lib_Support_Host.cpp Source File_files/doxygen.png" alt="doxygen">
</a> 1.8.17
</small></address>


<div id="powerTip"></div><youdao_grammar_result><div></div></youdao_grammar_result><youdao-grammar-editor><div></div></youdao-grammar-editor></body></html>